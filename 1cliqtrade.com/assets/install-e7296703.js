import{_ as P,g as tr,a6 as K,r as bt,aT as er,db as $t,dc as Yt,au as Dt,bO as ar,ao as pa,bS as le,dn as rr,a7 as nr,aI as Kt,bR as da,dv as ga,bQ as jt,v as Ct,cz as we,c2 as ir,di as or,aN as Jt,H as N,h as It,bn as ma,dm as vt,aV as sr,f4 as Me,a_ as ya,f5 as Ae,f6 as Ce,aH as it,bP as Te,f7 as De,aU as zt,cp as Ie,aM as at,Z as Rt,f0 as lr,f8 as ur,bd as hr,y as A,aa as vr,aZ as Re,du as cr,f9 as fr,fa as pr,fb as dr,dk as gr,f1 as mr,eH as Et,bM as yr,aE as L,aF as $,fc as Le,ec as Lt,fd as _a,aO as St,aP as Y,cG as ba,ac as Sa,ab as xa,aG as G,ae as ct,ee as wa,an as ue,ah as _r,B as br,ch as rt,aJ as ot,fe as Sr,cs as Pt,aR as Ma,aS as Aa,S as V,N as xr,ff as wr,fg as Mr,K as _t,M as Ar,ci as Cr,aj as Tr,dG as Dr,cm as Ir,fh as Rr,fi as Lr,dM as Pr,eA as Or,fj as Er,fk as Pe,I as kr,aL as Oe,b5 as Ca,fl as Ta,fm as Zr,fn as zr,u as qt,dw as Da,d6 as Ia,d7 as Br,dW as Vr,w as Nr,fo as Gr,b7 as Ee,s as Hr,o as Wr,d8 as ke,aW as Fr}from"./install-f4f8b7fa.js";var Ur=function(r){P(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return e.prototype.getInitialData=function(t){return tr(null,this,{useEncodeDefaulter:!0})},e.prototype.getLegendIcon=function(t){var a=new K,n=bt("line",0,t.itemHeight/2,t.itemWidth,0,t.lineStyle.stroke,!1);a.add(n),n.setStyle(t.lineStyle);var i=this.getData().getVisual("symbol"),o=this.getData().getVisual("symbolRotate"),s=i==="none"?"circle":i,l=t.itemHeight*.8,u=bt(s,(t.itemWidth-l)/2,(t.itemHeight-l)/2,l,l,t.itemStyle.fill);a.add(u),u.setStyle(t.itemStyle);var h=t.iconRotate==="inherit"?o:t.iconRotate||0;return u.rotation=h*Math.PI/180,u.setOrigin([t.itemWidth/2,t.itemHeight/2]),s.indexOf("empty")>-1&&(u.style.stroke=u.style.fill,u.style.fill="#fff",u.style.lineWidth=2),a},e.type="series.line",e.dependencies=["grid","polar"],e.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},e}(er);const Xr=Ur;var $r=function(r){P(e,r);function e(t,a,n,i){var o=r.call(this)||this;return o.updateData(t,a,n,i),o}return e.prototype._createSymbol=function(t,a,n,i,o){this.removeAll();var s=bt(t,-1,-1,2,2,null,o);s.attr({z2:100,culling:!0,scaleX:i[0]/2,scaleY:i[1]/2}),s.drift=Yr,this._symbolType=t,this.add(s)},e.prototype.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(null,t)},e.prototype.getSymbolType=function(){return this._symbolType},e.prototype.getSymbolPath=function(){return this.childAt(0)},e.prototype.highlight=function(){$t(this.childAt(0))},e.prototype.downplay=function(){Yt(this.childAt(0))},e.prototype.setZ=function(t,a){var n=this.childAt(0);n.zlevel=t,n.z=a},e.prototype.setDraggable=function(t,a){var n=this.childAt(0);n.draggable=t,n.cursor=!a&&t?"move":n.cursor},e.prototype.updateData=function(t,a,n,i){this.silent=!1;var o=t.getItemVisual(a,"symbol")||"circle",s=t.hostModel,l=e.getSymbolSize(t,a),u=o!==this._symbolType,h=i&&i.disableAnimation;if(u){var v=t.getItemVisual(a,"symbolKeepAspect");this._createSymbol(o,t,a,l,v)}else{var c=this.childAt(0);c.silent=!1;var f={scaleX:l[0]/2,scaleY:l[1]/2};h?c.attr(f):Dt(c,f,s,a),ar(c)}if(this._updateCommon(t,a,l,n,i),u){var c=this.childAt(0);if(!h){var f={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:c.style.opacity}};c.scaleX=c.scaleY=0,c.style.opacity=0,pa(c,f,s,a)}}h&&this.childAt(0).stopAnimation("leave")},e.prototype._updateCommon=function(t,a,n,i,o){var s=this.childAt(0),l=t.hostModel,u,h,v,c,f,p,d,y,m;if(i&&(u=i.emphasisItemStyle,h=i.blurItemStyle,v=i.selectItemStyle,c=i.focus,f=i.blurScope,d=i.labelStatesModels,y=i.hoverScale,m=i.cursorStyle,p=i.emphasisDisabled),!i||t.hasItemOption){var g=i&&i.itemModel?i.itemModel:t.getItemModel(a),_=g.getModel("emphasis");u=_.getModel("itemStyle").getItemStyle(),v=g.getModel(["select","itemStyle"]).getItemStyle(),h=g.getModel(["blur","itemStyle"]).getItemStyle(),c=_.get("focus"),f=_.get("blurScope"),p=_.get("disabled"),d=le(g),y=_.getShallow("scale"),m=g.getShallow("cursor")}var b=t.getItemVisual(a,"symbolRotate");s.attr("rotation",(b||0)*Math.PI/180||0);var x=rr(t.getItemVisual(a,"symbolOffset"),n);x&&(s.x=x[0],s.y=x[1]),m&&s.attr("cursor",m);var S=t.getItemVisual(a,"style"),w=S.fill;if(s instanceof nr){var T=s.style;s.useStyle(Kt({image:T.image,x:T.x,y:T.y,width:T.width,height:T.height},S))}else s.__isEmptyBrush?s.useStyle(Kt({},S)):s.useStyle(S),s.style.decal=null,s.setColor(w,o&&o.symbolInnerColor),s.style.strokeNoScale=!0;var M=t.getItemVisual(a,"liftZ"),D=this._z2;M!=null?D==null&&(this._z2=s.z2,s.z2+=M):D!=null&&(s.z2=D,this._z2=null);var I=o&&o.useNameLabel;da(s,d,{labelFetcher:l,labelDataIndex:a,defaultText:C,inheritColor:w,defaultOpacity:S.opacity});function C(B){return I?t.getName(B):ga(t,B)}this._sizeX=n[0]/2,this._sizeY=n[1]/2;var R=s.ensureState("emphasis");R.style=u,s.ensureState("select").style=v,s.ensureState("blur").style=h;var k=y==null||y===!0?Math.max(1.1,3/this._sizeY):isFinite(y)&&y>0?+y:1;R.scaleX=this._sizeX*k,R.scaleY=this._sizeY*k,this.setSymbolScale(1),jt(this,c,f,p)},e.prototype.setSymbolScale=function(t){this.scaleX=this.scaleY=t},e.prototype.fadeOut=function(t,a,n){var i=this.childAt(0),o=Ct(this).dataIndex,s=n&&n.animation;if(this.silent=i.silent=!0,n&&n.fadeLabel){var l=i.getTextContent();l&&we(l,{style:{opacity:0}},a,{dataIndex:o,removeOpt:s,cb:function(){i.removeTextContent()}})}else i.removeTextContent();we(i,{style:{opacity:0},scaleX:0,scaleY:0},a,{dataIndex:o,cb:t,removeOpt:s})},e.getSymbolSize=function(t,a){return ir(t.getItemVisual(a,"symbolSize"))},e}(K);function Yr(r,e){this.parent.drift(r,e)}const he=$r;function Bt(r,e,t,a){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(a.isIgnore&&a.isIgnore(t))&&!(a.clipShape&&!a.clipShape.contain(e[0],e[1]))&&r.getItemVisual(t,"symbol")!=="none"}function Ze(r){return r!=null&&!Jt(r)&&(r={isIgnore:r}),r||{}}function ze(r){var e=r.hostModel,t=e.getModel("emphasis");return{emphasisItemStyle:t.getModel("itemStyle").getItemStyle(),blurItemStyle:e.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:e.getModel(["select","itemStyle"]).getItemStyle(),focus:t.get("focus"),blurScope:t.get("blurScope"),emphasisDisabled:t.get("disabled"),hoverScale:t.get("scale"),labelStatesModels:le(e),cursorStyle:e.get("cursor")}}var Kr=function(){function r(e){this.group=new K,this._SymbolCtor=e||he}return r.prototype.updateData=function(e,t){this._progressiveEls=null,t=Ze(t);var a=this.group,n=e.hostModel,i=this._data,o=this._SymbolCtor,s=t.disableAnimation,l=ze(e),u={disableAnimation:s},h=t.getSymbolPoint||function(v){return e.getItemLayout(v)};i||a.removeAll(),e.diff(i).add(function(v){var c=h(v);if(Bt(e,c,v,t)){var f=new o(e,v,l,u);f.setPosition(c),e.setItemGraphicEl(v,f),a.add(f)}}).update(function(v,c){var f=i.getItemGraphicEl(c),p=h(v);if(!Bt(e,p,v,t)){a.remove(f);return}var d=e.getItemVisual(v,"symbol")||"circle",y=f&&f.getSymbolType&&f.getSymbolType();if(!f||y&&y!==d)a.remove(f),f=new o(e,v,l,u),f.setPosition(p);else{f.updateData(e,v,l,u);var m={x:p[0],y:p[1]};s?f.attr(m):Dt(f,m,n)}a.add(f),e.setItemGraphicEl(v,f)}).remove(function(v){var c=i.getItemGraphicEl(v);c&&c.fadeOut(function(){a.remove(c)},n)}).execute(),this._getSymbolPoint=h,this._data=e},r.prototype.updateLayout=function(){var e=this,t=this._data;t&&t.eachItemGraphicEl(function(a,n){var i=e._getSymbolPoint(n);a.setPosition(i),a.markRedraw()})},r.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=ze(e),this._data=null,this.group.removeAll()},r.prototype.incrementalUpdate=function(e,t,a){this._progressiveEls=[],a=Ze(a);function n(l){l.isGroup||(l.incremental=!0,l.ensureState("emphasis").hoverLayer=!0)}for(var i=e.start;i<e.end;i++){var o=t.getItemLayout(i);if(Bt(t,o,i,a)){var s=new this._SymbolCtor(t,i,this._seriesScope);s.traverse(n),s.setPosition(o),this.group.add(s),t.setItemGraphicEl(i,s),this._progressiveEls.push(s)}}},r.prototype.eachRendered=function(e){or(this._progressiveEls||this.group,e)},r.prototype.remove=function(e){var t=this.group,a=this._data;a&&e?a.eachItemGraphicEl(function(n){n.fadeOut(function(){t.remove(n)},a.hostModel)}):t.removeAll()},r}();const jr=Kr;function Ra(r,e,t){var a=r.getBaseAxis(),n=r.getOtherAxis(a),i=Jr(n,t),o=a.dim,s=n.dim,l=e.mapDimension(s),u=e.mapDimension(o),h=s==="x"||s==="radius"?1:0,v=N(r.dimensions,function(p){return e.mapDimension(p)}),c=!1,f=e.getCalculationInfo("stackResultDimension");return It(e,v[0])&&(c=!0,v[0]=f),It(e,v[1])&&(c=!0,v[1]=f),{dataDimsForPoint:v,valueStart:i,valueAxisDim:s,baseAxisDim:o,stacked:!!c,valueDim:l,baseDim:u,baseDataOffset:h,stackedOverDimension:e.getCalculationInfo("stackedOverDimension")}}function Jr(r,e){var t=0,a=r.scale.getExtent();return e==="start"?t=a[0]:e==="end"?t=a[1]:ma(e)&&!isNaN(e)?t=e:a[0]>0?t=a[0]:a[1]<0&&(t=a[1]),t}function La(r,e,t,a){var n=NaN;r.stacked&&(n=t.get(t.getCalculationInfo("stackedOverDimension"),a)),isNaN(n)&&(n=r.valueStart);var i=r.baseDataOffset,o=[];return o[i]=t.get(r.baseDim,a),o[1-i]=n,e.dataToPoint(o)}function qr(r,e){var t=[];return e.diff(r).add(function(a){t.push({cmd:"+",idx:a})}).update(function(a,n){t.push({cmd:"=",idx:n,idx1:a})}).remove(function(a){t.push({cmd:"-",idx:a})}).execute(),t}function Qr(r,e,t,a,n,i,o,s){for(var l=qr(r,e),u=[],h=[],v=[],c=[],f=[],p=[],d=[],y=Ra(n,e,o),m=r.getLayout("points")||[],g=e.getLayout("points")||[],_=0;_<l.length;_++){var b=l[_],x=!0,S=void 0,w=void 0;switch(b.cmd){case"=":S=b.idx*2,w=b.idx1*2;var T=m[S],M=m[S+1],D=g[w],I=g[w+1];(isNaN(T)||isNaN(M))&&(T=D,M=I),u.push(T,M),h.push(D,I),v.push(t[S],t[S+1]),c.push(a[w],a[w+1]),d.push(e.getRawIndex(b.idx1));break;case"+":var C=b.idx,R=y.dataDimsForPoint,k=n.dataToPoint([e.get(R[0],C),e.get(R[1],C)]);w=C*2,u.push(k[0],k[1]),h.push(g[w],g[w+1]);var B=La(y,n,e,C);v.push(B[0],B[1]),c.push(a[w],a[w+1]),d.push(e.getRawIndex(C));break;case"-":x=!1}x&&(f.push(b),p.push(p.length))}p.sort(function(At,z){return d[At]-d[z]});for(var Z=u.length,U=vt(Z),E=vt(Z),O=vt(Z),j=vt(Z),J=[],_=0;_<p.length;_++){var dt=p[_],H=_*2,W=dt*2;U[H]=u[W],U[H+1]=u[W+1],E[H]=h[W],E[H+1]=h[W+1],O[H]=v[W],O[H+1]=v[W+1],j[H]=c[W],j[H+1]=c[W+1],J[_]=f[dt]}return{current:U,next:E,stackedOnCurrent:O,stackedOnNext:j,status:J}}var q=Math.min,Q=Math.max;function nt(r,e){return isNaN(r)||isNaN(e)}function Qt(r,e,t,a,n,i,o,s,l){for(var u,h,v,c,f,p,d=t,y=0;y<a;y++){var m=e[d*2],g=e[d*2+1];if(d>=n||d<0)break;if(nt(m,g)){if(l){d+=i;continue}break}if(d===t)r[i>0?"moveTo":"lineTo"](m,g),v=m,c=g;else{var _=m-u,b=g-h;if(_*_+b*b<.5){d+=i;continue}if(o>0){for(var x=d+i,S=e[x*2],w=e[x*2+1];S===m&&w===g&&y<a;)y++,x+=i,d+=i,S=e[x*2],w=e[x*2+1],m=e[d*2],g=e[d*2+1],_=m-u,b=g-h;var T=y+1;if(l)for(;nt(S,w)&&T<a;)T++,x+=i,S=e[x*2],w=e[x*2+1];var M=.5,D=0,I=0,C=void 0,R=void 0;if(T>=a||nt(S,w))f=m,p=g;else{D=S-u,I=w-h;var k=m-u,B=S-m,Z=g-h,U=w-g,E=void 0,O=void 0;if(s==="x"){E=Math.abs(k),O=Math.abs(B);var j=D>0?1:-1;f=m-j*E*o,p=g,C=m+j*O*o,R=g}else if(s==="y"){E=Math.abs(Z),O=Math.abs(U);var J=I>0?1:-1;f=m,p=g-J*E*o,C=m,R=g+J*O*o}else E=Math.sqrt(k*k+Z*Z),O=Math.sqrt(B*B+U*U),M=O/(O+E),f=m-D*o*(1-M),p=g-I*o*(1-M),C=m+D*o*M,R=g+I*o*M,C=q(C,Q(S,m)),R=q(R,Q(w,g)),C=Q(C,q(S,m)),R=Q(R,q(w,g)),D=C-m,I=R-g,f=m-D*E/O,p=g-I*E/O,f=q(f,Q(u,m)),p=q(p,Q(h,g)),f=Q(f,q(u,m)),p=Q(p,q(h,g)),D=m-f,I=g-p,C=m+D*O/E,R=g+I*O/E}r.bezierCurveTo(v,c,f,p,m,g),v=C,c=R}else r.lineTo(m,g)}u=m,h=g,d+=i}return y}var Pa=function(){function r(){this.smooth=0,this.smoothConstraint=!0}return r}(),tn=function(r){P(e,r);function e(t){var a=r.call(this,t)||this;return a.type="ec-polyline",a}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new Pa},e.prototype.buildPath=function(t,a){var n=a.points,i=0,o=n.length/2;if(a.connectNulls){for(;o>0&&nt(n[o*2-2],n[o*2-1]);o--);for(;i<o&&nt(n[i*2],n[i*2+1]);i++);}for(;i<o;)i+=Qt(t,n,i,o,o,1,a.smooth,a.smoothMonotone,a.connectNulls)+1},e.prototype.getPointOn=function(t,a){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var n=this.path,i=n.data,o=sr.CMD,s,l,u=a==="x",h=[],v=0;v<i.length;){var c=i[v++],f=void 0,p=void 0,d=void 0,y=void 0,m=void 0,g=void 0,_=void 0;switch(c){case o.M:s=i[v++],l=i[v++];break;case o.L:if(f=i[v++],p=i[v++],_=u?(t-s)/(f-s):(t-l)/(p-l),_<=1&&_>=0){var b=u?(p-l)*_+l:(f-s)*_+s;return u?[t,b]:[b,t]}s=f,l=p;break;case o.C:f=i[v++],p=i[v++],d=i[v++],y=i[v++],m=i[v++],g=i[v++];var x=u?Me(s,f,d,m,t,h):Me(l,p,y,g,t,h);if(x>0)for(var S=0;S<x;S++){var w=h[S];if(w<=1&&w>=0){var b=u?Ae(l,p,y,g,w):Ae(s,f,d,m,w);return u?[t,b]:[b,t]}}s=m,l=g;break}}},e}(ya),en=function(r){P(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e}(Pa),an=function(r){P(e,r);function e(t){var a=r.call(this,t)||this;return a.type="ec-polygon",a}return e.prototype.getDefaultShape=function(){return new en},e.prototype.buildPath=function(t,a){var n=a.points,i=a.stackedOnPoints,o=0,s=n.length/2,l=a.smoothMonotone;if(a.connectNulls){for(;s>0&&nt(n[s*2-2],n[s*2-1]);s--);for(;o<s&&nt(n[o*2],n[o*2+1]);o++);}for(;o<s;){var u=Qt(t,n,o,s,s,1,a.smooth,l,a.connectNulls);Qt(t,i,o+u-1,u,s,-1,a.stackedOnSmooth,l,a.connectNulls),o+=u+1,t.closePath()}},e}(ya);function Be(r,e){if(r.length===e.length){for(var t=0;t<r.length;t++)if(r[t]!==e[t])return;return!0}}function Ve(r){for(var e=1/0,t=1/0,a=-1/0,n=-1/0,i=0;i<r.length;){var o=r[i++],s=r[i++];isNaN(o)||(e=Math.min(o,e),a=Math.max(o,a)),isNaN(s)||(t=Math.min(s,t),n=Math.max(s,n))}return[[e,t],[a,n]]}function Ne(r,e){var t=Ve(r),a=t[0],n=t[1],i=Ve(e),o=i[0],s=i[1];return Math.max(Math.abs(a[0]-o[0]),Math.abs(a[1]-o[1]),Math.abs(n[0]-s[0]),Math.abs(n[1]-s[1]))}function Ge(r){return ma(r)?r:r?.5:0}function rn(r,e,t){if(!t.valueDim)return[];for(var a=e.count(),n=vt(a*2),i=0;i<a;i++){var o=La(t,r,e,i);n[i*2]=o[0],n[i*2+1]=o[1]}return n}function tt(r,e,t,a){var n=e.getBaseAxis(),i=n.dim==="x"||n.dim==="radius"?0:1,o=[],s=0,l=[],u=[],h=[],v=[];if(a){for(s=0;s<r.length;s+=2)!isNaN(r[s])&&!isNaN(r[s+1])&&v.push(r[s],r[s+1]);r=v}for(s=0;s<r.length-2;s+=2)switch(h[0]=r[s+2],h[1]=r[s+3],u[0]=r[s],u[1]=r[s+1],o.push(u[0],u[1]),t){case"end":l[i]=h[i],l[1-i]=u[1-i],o.push(l[0],l[1]);break;case"middle":var c=(u[i]+h[i])/2,f=[];l[i]=f[i]=c,l[1-i]=u[1-i],f[1-i]=h[1-i],o.push(l[0],l[1]),o.push(f[0],f[1]);break;default:l[i]=u[i],l[1-i]=h[1-i],o.push(l[0],l[1])}return o.push(r[s++],r[s++]),o}function nn(r,e){var t=[],a=r.length,n,i;function o(h,v,c){var f=h.coord,p=(c-f)/(v.coord-f),d=dr(p,[h.color,v.color]);return{coord:c,color:d}}for(var s=0;s<a;s++){var l=r[s],u=l.coord;if(u<0)n=l;else if(u>e){i?t.push(o(i,l,e)):n&&t.push(o(n,l,0),o(n,l,e));break}else n&&(t.push(o(n,l,0)),n=null),t.push(l),i=l}return t}function on(r,e,t){var a=r.getVisual("visualMeta");if(!(!a||!a.length||!r.count())&&e.type==="cartesian2d"){for(var n,i,o=a.length-1;o>=0;o--){var s=r.getDimensionInfo(a[o].dimension);if(n=s&&s.coordDim,n==="x"||n==="y"){i=a[o];break}}if(i){var l=e.getAxis(n),u=N(i.stops,function(_){return{coord:l.toGlobalCoord(l.dataToCoord(_.value)),color:_.color}}),h=u.length,v=i.outerColors.slice();h&&u[0].coord>u[h-1].coord&&(u.reverse(),v.reverse());var c=nn(u,n==="x"?t.getWidth():t.getHeight()),f=c.length;if(!f&&h)return u[0].coord<0?v[1]?v[1]:u[h-1].color:v[0]?v[0]:u[0].color;var p=10,d=c[0].coord-p,y=c[f-1].coord+p,m=y-d;if(m<.001)return"transparent";A(c,function(_){_.offset=(_.coord-d)/m}),c.push({offset:f?c[f-1].offset:.5,color:v[1]||"transparent"}),c.unshift({offset:f?c[0].offset:.5,color:v[0]||"transparent"});var g=new vr(0,0,0,0,c,!0);return g[n]=d,g[n+"2"]=y,g}}}function sn(r,e,t){var a=r.get("showAllSymbol"),n=a==="auto";if(!(a&&!n)){var i=t.getAxesByScale("ordinal")[0];if(i&&!(n&&ln(i,e))){var o=e.mapDimension(i.dim),s={};return A(i.getViewLabels(),function(l){var u=i.scale.getRawOrdinalNumber(l.tickValue);s[u]=1}),function(l){return!s.hasOwnProperty(e.get(o,l))}}}}function ln(r,e){var t=r.getExtent(),a=Math.abs(t[1]-t[0])/r.scale.count();isNaN(a)&&(a=0);for(var n=e.count(),i=Math.max(1,Math.round(n/5)),o=0;o<n;o+=i)if(he.getSymbolSize(e,o)[r.isHorizontal()?1:0]*1.5>a)return!1;return!0}function un(r,e){return isNaN(r)||isNaN(e)}function hn(r){for(var e=r.length/2;e>0&&un(r[e*2-2],r[e*2-1]);e--);return e-1}function He(r,e){return[r[e*2],r[e*2+1]]}function vn(r,e,t){for(var a=r.length/2,n=t==="x"?0:1,i,o,s=0,l=-1,u=0;u<a;u++)if(o=r[u*2+n],!(isNaN(o)||isNaN(r[u*2+1-n]))){if(u===0){i=o;continue}if(i<=e&&o>=e||i>=e&&o<=e){l=u;break}s=u,i=o}return{range:[s,l],t:(e-i)/(o-i)}}function Oa(r){if(r.get(["endLabel","show"]))return!0;for(var e=0;e<Re.length;e++)if(r.get([Re[e],"endLabel","show"]))return!0;return!1}function Vt(r,e,t,a){if(cr(e,"cartesian2d")){var n=a.getModel("endLabel"),i=n.get("valueAnimation"),o=a.getData(),s={lastFrameIndex:0},l=Oa(a)?function(f,p){r._endLabelOnDuring(f,p,o,s,i,n,e)}:null,u=e.getBaseAxis().isHorizontal(),h=fr(e,t,a,function(){var f=r._endLabel;f&&t&&s.originalX!=null&&f.attr({x:s.originalX,y:s.originalY})},l);if(!a.get("clip",!0)){var v=h.shape,c=Math.max(v.width,v.height);u?(v.y-=c,v.height+=c*2):(v.x-=c,v.width+=c*2)}return l&&l(1,h),h}else return pr(e,t,a)}function cn(r,e){var t=e.getBaseAxis(),a=t.isHorizontal(),n=t.inverse,i=a?n?"right":"left":"center",o=a?"middle":n?"top":"bottom";return{normal:{align:r.get("align")||i,verticalAlign:r.get("verticalAlign")||o}}}var fn=function(r){P(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.init=function(){var t=new K,a=new jr;this.group.add(a.group),this._symbolDraw=a,this._lineGroup=t},e.prototype.render=function(t,a,n){var i=this,o=t.coordinateSystem,s=this.group,l=t.getData(),u=t.getModel("lineStyle"),h=t.getModel("areaStyle"),v=l.getLayout("points")||[],c=o.type==="polar",f=this._coordSys,p=this._symbolDraw,d=this._polyline,y=this._polygon,m=this._lineGroup,g=!a.ssr&&t.get("animation"),_=!h.isEmpty(),b=h.get("origin"),x=Ra(o,l,b),S=_&&rn(o,l,x),w=t.get("showSymbol"),T=t.get("connectNulls"),M=w&&!c&&sn(t,l,o),D=this._data;D&&D.eachItemGraphicEl(function(z,Qa){z.__temp&&(s.remove(z),D.setItemGraphicEl(Qa,null))}),w||p.remove(),s.add(m);var I=c?!1:t.get("step"),C;o&&o.getArea&&t.get("clip",!0)&&(C=o.getArea(),C.width!=null?(C.x-=.1,C.y-=.1,C.width+=.2,C.height+=.2):C.r0&&(C.r0-=.5,C.r+=.5)),this._clipShapeForSymbol=C;var R=on(l,o,n)||l.getVisual("style")[l.getVisual("drawType")];if(!(d&&f.type===o.type&&I===this._step))w&&p.updateData(l,{isIgnore:M,clipShape:C,disableAnimation:!0,getSymbolPoint:function(z){return[v[z*2],v[z*2+1]]}}),g&&this._initSymbolLabelAnimation(l,o,C),I&&(v=tt(v,o,I,T),S&&(S=tt(S,o,I,T))),d=this._newPolyline(v),_?y=this._newPolygon(v,S):y&&(m.remove(y),y=this._polygon=null),c||this._initOrUpdateEndLabel(t,o,Ce(R)),m.setClipPath(Vt(this,o,!0,t));else{_&&!y?y=this._newPolygon(v,S):y&&!_&&(m.remove(y),y=this._polygon=null),c||this._initOrUpdateEndLabel(t,o,Ce(R));var k=m.getClipPath();if(k){var B=Vt(this,o,!1,t);pa(k,{shape:B.shape},t)}else m.setClipPath(Vt(this,o,!0,t));w&&p.updateData(l,{isIgnore:M,clipShape:C,disableAnimation:!0,getSymbolPoint:function(z){return[v[z*2],v[z*2+1]]}}),(!Be(this._stackedOnPoints,S)||!Be(this._points,v))&&(g?this._doUpdateAnimation(l,S,o,n,I,b,T):(I&&(v=tt(v,o,I,T),S&&(S=tt(S,o,I,T))),d.setShape({points:v}),y&&y.setShape({points:v,stackedOnPoints:S})))}var Z=t.getModel("emphasis"),U=Z.get("focus"),E=Z.get("blurScope"),O=Z.get("disabled");if(d.useStyle(it(u.getLineStyle(),{fill:"none",stroke:R,lineJoin:"bevel"})),Te(d,t,"lineStyle"),d.style.lineWidth>0&&t.get(["emphasis","lineStyle","width"])==="bolder"){var j=d.getState("emphasis").style;j.lineWidth=+d.style.lineWidth+1}Ct(d).seriesIndex=t.seriesIndex,jt(d,U,E,O);var J=Ge(t.get("smooth")),dt=t.get("smoothMonotone");if(d.setShape({smooth:J,smoothMonotone:dt,connectNulls:T}),y){var H=l.getCalculationInfo("stackedOnSeries"),W=0;y.useStyle(it(h.getAreaStyle(),{fill:R,opacity:.7,lineJoin:"bevel",decal:l.getVisual("style").decal})),H&&(W=Ge(H.get("smooth"))),y.setShape({smooth:J,stackedOnSmooth:W,smoothMonotone:dt,connectNulls:T}),Te(y,t,"areaStyle"),Ct(y).seriesIndex=t.seriesIndex,jt(y,U,E,O)}var At=function(z){i._changePolyState(z)};l.eachItemGraphicEl(function(z){z&&(z.onHoverStateChange=At)}),this._polyline.onHoverStateChange=At,this._data=l,this._coordSys=o,this._stackedOnPoints=S,this._points=v,this._step=I,this._valueOrigin=b,t.get("triggerLineEvent")&&(this.packEventData(t,d),y&&this.packEventData(t,y))},e.prototype.packEventData=function(t,a){Ct(a).eventData={componentType:"series",componentSubType:"line",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"line"}},e.prototype.highlight=function(t,a,n,i){var o=t.getData(),s=De(o,i);if(this._changePolyState("emphasis"),!(s instanceof Array)&&s!=null&&s>=0){var l=o.getLayout("points"),u=o.getItemGraphicEl(s);if(!u){var h=l[s*2],v=l[s*2+1];if(isNaN(h)||isNaN(v)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(h,v))return;var c=t.get("zlevel")||0,f=t.get("z")||0;u=new he(o,s),u.x=h,u.y=v,u.setZ(c,f);var p=u.getSymbolPath().getTextContent();p&&(p.zlevel=c,p.z=f,p.z2=this._polyline.z2+1),u.__temp=!0,o.setItemGraphicEl(s,u),u.stopSymbolAnimation(!0),this.group.add(u)}u.highlight()}else zt.prototype.highlight.call(this,t,a,n,i)},e.prototype.downplay=function(t,a,n,i){var o=t.getData(),s=De(o,i);if(this._changePolyState("normal"),s!=null&&s>=0){var l=o.getItemGraphicEl(s);l&&(l.__temp?(o.setItemGraphicEl(s,null),this.group.remove(l)):l.downplay())}else zt.prototype.downplay.call(this,t,a,n,i)},e.prototype._changePolyState=function(t){var a=this._polygon;Ie(this._polyline,t),a&&Ie(a,t)},e.prototype._newPolyline=function(t){var a=this._polyline;return a&&this._lineGroup.remove(a),a=new tn({shape:{points:t},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(a),this._polyline=a,a},e.prototype._newPolygon=function(t,a){var n=this._polygon;return n&&this._lineGroup.remove(n),n=new an({shape:{points:t,stackedOnPoints:a},segmentIgnoreThreshold:2}),this._lineGroup.add(n),this._polygon=n,n},e.prototype._initSymbolLabelAnimation=function(t,a,n){var i,o,s=a.getBaseAxis(),l=s.inverse;a.type==="cartesian2d"?(i=s.isHorizontal(),o=!1):a.type==="polar"&&(i=s.dim==="angle",o=!0);var u=t.hostModel,h=u.get("animationDuration");at(h)&&(h=h(null));var v=u.get("animationDelay")||0,c=at(v)?v(null):v;t.eachItemGraphicEl(function(f,p){var d=f;if(d){var y=[f.x,f.y],m=void 0,g=void 0,_=void 0;if(n)if(o){var b=n,x=a.pointToCoord(y);i?(m=b.startAngle,g=b.endAngle,_=-x[1]/180*Math.PI):(m=b.r0,g=b.r,_=x[0])}else{var S=n;i?(m=S.x,g=S.x+S.width,_=f.x):(m=S.y+S.height,g=S.y,_=f.y)}var w=g===m?0:(_-m)/(g-m);l&&(w=1-w);var T=at(v)?v(p):h*w+c,M=d.getSymbolPath(),D=M.getTextContent();d.attr({scaleX:0,scaleY:0}),d.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:T}),D&&D.animateFrom({style:{opacity:0}},{duration:300,delay:T}),M.disableLabelAnimation=!0}})},e.prototype._initOrUpdateEndLabel=function(t,a,n){var i=t.getModel("endLabel");if(Oa(t)){var o=t.getData(),s=this._polyline,l=o.getLayout("points");if(!l){s.removeTextContent(),this._endLabel=null;return}var u=this._endLabel;u||(u=this._endLabel=new Rt({z2:200}),u.ignoreClip=!0,s.setTextContent(this._endLabel),s.disableLabelAnimation=!0);var h=hn(l);h>=0&&(da(s,le(t,"endLabel"),{inheritColor:n,labelFetcher:t,labelDataIndex:h,defaultText:function(v,c,f){return f!=null?lr(o,f):ga(o,v)},enableTextSetter:!0},cn(i,a)),s.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},e.prototype._endLabelOnDuring=function(t,a,n,i,o,s,l){var u=this._endLabel,h=this._polyline;if(u){t<1&&i.originalX==null&&(i.originalX=u.x,i.originalY=u.y);var v=n.getLayout("points"),c=n.hostModel,f=c.get("connectNulls"),p=s.get("precision"),d=s.get("distance")||0,y=l.getBaseAxis(),m=y.isHorizontal(),g=y.inverse,_=a.shape,b=g?m?_.x:_.y+_.height:m?_.x+_.width:_.y,x=(m?d:0)*(g?-1:1),S=(m?0:-d)*(g?-1:1),w=m?"x":"y",T=vn(v,b,w),M=T.range,D=M[1]-M[0],I=void 0;if(D>=1){if(D>1&&!f){var C=He(v,M[0]);u.attr({x:C[0]+x,y:C[1]+S}),o&&(I=c.getRawValue(M[0]))}else{var C=h.getPointOn(b,w);C&&u.attr({x:C[0]+x,y:C[1]+S});var R=c.getRawValue(M[0]),k=c.getRawValue(M[1]);o&&(I=ur(n,p,R,k,T.t))}i.lastFrameIndex=M[0]}else{var B=t===1||i.lastFrameIndex>0?M[0]:0,C=He(v,B);o&&(I=c.getRawValue(B)),u.attr({x:C[0]+x,y:C[1]+S})}if(o){var Z=hr(u);typeof Z.setLabelText=="function"&&Z.setLabelText(I)}}},e.prototype._doUpdateAnimation=function(t,a,n,i,o,s,l){var u=this._polyline,h=this._polygon,v=t.hostModel,c=Qr(this._data,t,this._stackedOnPoints,a,this._coordSys,n,this._valueOrigin),f=c.current,p=c.stackedOnCurrent,d=c.next,y=c.stackedOnNext;if(o&&(f=tt(c.current,n,o,l),p=tt(c.stackedOnCurrent,n,o,l),d=tt(c.next,n,o,l),y=tt(c.stackedOnNext,n,o,l)),Ne(f,d)>3e3||h&&Ne(p,y)>3e3){u.stopAnimation(),u.setShape({points:d}),h&&(h.stopAnimation(),h.setShape({points:d,stackedOnPoints:y}));return}u.shape.__points=c.current,u.shape.points=f;var m={shape:{points:d}};c.current!==f&&(m.shape.__points=c.next),u.stopAnimation(),Dt(u,m,v),h&&(h.setShape({points:f,stackedOnPoints:p}),h.stopAnimation(),Dt(h,{shape:{stackedOnPoints:y}},v),u.shape.points!==h.shape.points&&(h.shape.points=u.shape.points));for(var g=[],_=c.status,b=0;b<_.length;b++){var x=_[b].cmd;if(x==="="){var S=t.getItemGraphicEl(_[b].idx1);S&&g.push({el:S,ptIdx:b})}}u.animators&&u.animators.length&&u.animators[0].during(function(){h&&h.dirtyShape();for(var w=u.shape.__points,T=0;T<g.length;T++){var M=g[T].el,D=g[T].ptIdx*2;M.x=w[D],M.y=w[D+1],M.markRedraw()}})},e.prototype.remove=function(t){var a=this.group,n=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),n&&n.eachItemGraphicEl(function(i,o){i.__temp&&(a.remove(i),n.setItemGraphicEl(o,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},e.type="line",e}(zt);const pn=fn;function dn(r,e){return{seriesType:r,plan:gr(),reset:function(t){var a=t.getData(),n=t.coordinateSystem,i=t.pipelineContext,o=e||i.large;if(n){var s=N(n.dimensions,function(f){return a.mapDimension(f)}).slice(0,2),l=s.length,u=a.getCalculationInfo("stackResultDimension");It(a,s[0])&&(s[0]=u),It(a,s[1])&&(s[1]=u);var h=a.getStore(),v=a.getDimensionIndex(s[0]),c=a.getDimensionIndex(s[1]);return l&&{progress:function(f,p){for(var d=f.end-f.start,y=o&&vt(d*l),m=[],g=[],_=f.start,b=0;_<f.end;_++){var x=void 0;if(l===1){var S=h.get(v,_);x=n.dataToPoint(S,null,g)}else m[0]=h.get(v,_),m[1]=h.get(c,_),x=n.dataToPoint(m,null,g);o?(y[b++]=x[0],y[b++]=x[1]):p.setItemLayout(_,x.slice())}o&&p.setLayout("points",y)}}}}}}function vo(r){r.registerChartView(pn),r.registerSeriesModel(Xr),r.registerLayout(dn("line",!0)),r.registerVisual({seriesType:"line",reset:function(e){var t=e.getData(),a=e.getModel("lineStyle").getLineStyle();a&&!a.stroke&&(a.stroke=t.getVisual("style").fill),t.setVisual("legendLineStyle",a)}}),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,mr("line"))}var We="\0_ec_interaction_mutex";function gn(r,e,t){var a=ve(r);a[e]=t}function mn(r,e,t){var a=ve(r),n=a[e];n===t&&(a[e]=null)}function Fe(r,e){return!!ve(r)[e]}function ve(r){return r[We]||(r[We]={})}Et({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},yr);var yn=function(r){P(e,r);function e(t){var a=r.call(this)||this;a._zr=t;var n=L(a._mousedownHandler,a),i=L(a._mousemoveHandler,a),o=L(a._mouseupHandler,a),s=L(a._mousewheelHandler,a),l=L(a._pinchHandler,a);return a.enable=function(u,h){this.disable(),this._opt=it($(h)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),u==null&&(u=!0),(u===!0||u==="move"||u==="pan")&&(t.on("mousedown",n),t.on("mousemove",i),t.on("mouseup",o)),(u===!0||u==="scale"||u==="zoom")&&(t.on("mousewheel",s),t.on("pinch",l))},a.disable=function(){t.off("mousedown",n),t.off("mousemove",i),t.off("mouseup",o),t.off("mousewheel",s),t.off("pinch",l)},a}return e.prototype.isDragging=function(){return this._dragging},e.prototype.isPinching=function(){return this._pinching},e.prototype.setPointerChecker=function(t){this.pointerChecker=t},e.prototype.dispose=function(){this.disable()},e.prototype._mousedownHandler=function(t){if(!Le(t)){for(var a=t.target;a;){if(a.draggable)return;a=a.__hostTarget||a.parent}var n=t.offsetX,i=t.offsetY;this.pointerChecker&&this.pointerChecker(t,n,i)&&(this._x=n,this._y=i,this._dragging=!0)}},e.prototype._mousemoveHandler=function(t){if(!(!this._dragging||!Tt("moveOnMouseMove",t,this._opt)||t.gestureEvent==="pinch"||Fe(this._zr,"globalPan"))){var a=t.offsetX,n=t.offsetY,i=this._x,o=this._y,s=a-i,l=n-o;this._x=a,this._y=n,this._opt.preventDefaultMouseMove&&Lt(t.event),Ea(this,"pan","moveOnMouseMove",t,{dx:s,dy:l,oldX:i,oldY:o,newX:a,newY:n,isAvailableBehavior:null})}},e.prototype._mouseupHandler=function(t){Le(t)||(this._dragging=!1)},e.prototype._mousewheelHandler=function(t){var a=Tt("zoomOnMouseWheel",t,this._opt),n=Tt("moveOnMouseWheel",t,this._opt),i=t.wheelDelta,o=Math.abs(i),s=t.offsetX,l=t.offsetY;if(!(i===0||!a&&!n)){if(a){var u=o>3?1.4:o>1?1.2:1.1,h=i>0?u:1/u;Nt(this,"zoom","zoomOnMouseWheel",t,{scale:h,originX:s,originY:l,isAvailableBehavior:null})}if(n){var v=Math.abs(i),c=(i>0?1:-1)*(v>3?.4:v>1?.15:.05);Nt(this,"scrollMove","moveOnMouseWheel",t,{scrollDelta:c,originX:s,originY:l,isAvailableBehavior:null})}}},e.prototype._pinchHandler=function(t){if(!Fe(this._zr,"globalPan")){var a=t.pinchScale>1?1.1:1/1.1;Nt(this,"zoom",null,t,{scale:a,originX:t.pinchX,originY:t.pinchY,isAvailableBehavior:null})}},e}(_a);function Nt(r,e,t,a,n){r.pointerChecker&&r.pointerChecker(a,n.originX,n.originY)&&(Lt(a.event),Ea(r,e,t,a,n))}function Ea(r,e,t,a,n){n.isAvailableBehavior=L(Tt,null,t,a),r.trigger(e,n)}function Tt(r,e,t){var a=t[r];return!r||a&&(!St(a)||e.event[a+"Key"])}const _n=yn;var bn={axisPointer:1,tooltip:1,brush:1};function Sn(r,e,t){var a=e.getComponentByElement(r.topTarget),n=a&&a.coordinateSystem;return a&&a!==t&&!bn.hasOwnProperty(a.mainType)&&n&&n.model!==t}function Mt(r,e,t,a,n,i){r=r||0;var o=t[1]-t[0];if(n!=null&&(n=ut(n,[0,o])),i!=null&&(i=Math.max(i,n??0)),a==="all"){var s=Math.abs(e[1]-e[0]);s=ut(s,[0,o]),n=i=ut(s,[n,i]),a=0}e[0]=ut(e[0],t),e[1]=ut(e[1],t);var l=Gt(e,a);e[a]+=r;var u=n||0,h=t.slice();l.sign<0?h[0]+=u:h[1]-=u,e[a]=ut(e[a],h);var v;return v=Gt(e,a),n!=null&&(v.sign!==l.sign||v.span<n)&&(e[1-a]=e[a]+l.sign*n),v=Gt(e,a),i!=null&&v.span>i&&(e[1-a]=e[a]+v.sign*i),e}function Gt(r,e){var t=r[e]-r[1-e];return{span:Math.abs(t),sign:t>0?-1:t<0?1:e?-1:1}}function ut(r,e){return Math.min(e[1]!=null?e[1]:1/0,Math.max(e[0]!=null?e[0]:-1/0,r))}var st=!0,xt=Math.min,ft=Math.max,xn=Math.pow,wn=1e4,Mn=6,An=6,Ue="globalPan",Cn={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},Tn={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},Xe={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},Dn=0,In=function(r){P(e,r);function e(t){var a=r.call(this)||this;return a._track=[],a._covers=[],a._handlers={},a._zr=t,a.group=new K,a._uid="brushController_"+Dn++,A(Zn,function(n,i){this._handlers[i]=L(n,this)},a),a}return e.prototype.enableBrush=function(t){return this._brushType&&this._doDisableBrush(),t.brushType&&this._doEnableBrush(t),this},e.prototype._doEnableBrush=function(t){var a=this._zr;this._enableGlobalPan||gn(a,Ue,this._uid),A(this._handlers,function(n,i){a.on(i,n)}),this._brushType=t.brushType,this._brushOption=Y($(Xe),t,!0)},e.prototype._doDisableBrush=function(){var t=this._zr;mn(t,Ue,this._uid),A(this._handlers,function(a,n){t.off(n,a)}),this._brushType=this._brushOption=null},e.prototype.setPanels=function(t){if(t&&t.length){var a=this._panels={};A(t,function(n){a[n.panelId]=$(n)})}else this._panels=null;return this},e.prototype.mount=function(t){t=t||{},this._enableGlobalPan=t.enableGlobalPan;var a=this.group;return this._zr.add(a),a.attr({x:t.x||0,y:t.y||0,rotation:t.rotation||0,scaleX:t.scaleX||1,scaleY:t.scaleY||1}),this._transform=a.getLocalTransform(),this},e.prototype.updateCovers=function(t){t=N(t,function(c){return Y($(Xe),c,!0)});var a="\0-brush-index-",n=this._covers,i=this._covers=[],o=this,s=this._creatingCover;return new ba(n,t,u,l).add(h).update(h).remove(v).execute(),this;function l(c,f){return(c.id!=null?c.id:a+f)+"-"+c.brushType}function u(c,f){return l(c.__brushOption,f)}function h(c,f){var p=t[c];if(f!=null&&n[f]===s)i[c]=n[f];else{var d=i[c]=f!=null?(n[f].__brushOption=p,n[f]):Za(o,ka(o,p));ce(o,d)}}function v(c){n[c]!==s&&o.group.remove(n[c])}},e.prototype.unmount=function(){return this.enableBrush(!1),te(this),this._zr.remove(this.group),this},e.prototype.dispose=function(){this.unmount(),this.off()},e}(_a);function ka(r,e){var t=kt[e.brushType].createCover(r,e);return t.__brushOption=e,Ba(t,e),r.group.add(t),t}function Za(r,e){var t=fe(e);return t.endCreating&&(t.endCreating(r,e),Ba(e,e.__brushOption)),e}function za(r,e){var t=e.__brushOption;fe(e).updateCoverShape(r,e,t.range,t)}function Ba(r,e){var t=e.z;t==null&&(t=wn),r.traverse(function(a){a.z=t,a.z2=t})}function ce(r,e){fe(e).updateCommon(r,e),za(r,e)}function fe(r){return kt[r.__brushOption.brushType]}function pe(r,e,t){var a=r._panels;if(!a)return st;var n,i=r._transform;return A(a,function(o){o.isTargetByCursor(e,t,i)&&(n=o)}),n}function Va(r,e){var t=r._panels;if(!t)return st;var a=e.__brushOption.panelId;return a!=null?t[a]:st}function te(r){var e=r._covers,t=e.length;return A(e,function(a){r.group.remove(a)},r),e.length=0,!!t}function lt(r,e){var t=N(r._covers,function(a){var n=a.__brushOption,i=$(n.range);return{brushType:n.brushType,panelId:n.panelId,range:i}});r.trigger("brush",{areas:t,isEnd:!!e.isEnd,removeOnClick:!!e.removeOnClick})}function Rn(r){var e=r._track;if(!e.length)return!1;var t=e[e.length-1],a=e[0],n=t[0]-a[0],i=t[1]-a[1],o=xn(n*n+i*i,.5);return o>Mn}function Na(r){var e=r.length-1;return e<0&&(e=0),[r[0],r[e]]}function Ga(r,e,t,a){var n=new K;return n.add(new ct({name:"main",style:de(t),silent:!0,draggable:!0,cursor:"move",drift:G($e,r,e,n,["n","s","w","e"]),ondragend:G(lt,e,{isEnd:!0})})),A(a,function(i){n.add(new ct({name:i.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:G($e,r,e,n,i),ondragend:G(lt,e,{isEnd:!0})}))}),n}function Ha(r,e,t,a){var n=a.brushStyle.lineWidth||0,i=ft(n,An),o=t[0][0],s=t[1][0],l=o-n/2,u=s-n/2,h=t[0][1],v=t[1][1],c=h-i+n/2,f=v-i+n/2,p=h-o,d=v-s,y=p+n,m=d+n;X(r,e,"main",o,s,p,d),a.transformable&&(X(r,e,"w",l,u,i,m),X(r,e,"e",c,u,i,m),X(r,e,"n",l,u,y,i),X(r,e,"s",l,f,y,i),X(r,e,"nw",l,u,i,i),X(r,e,"ne",c,u,i,i),X(r,e,"sw",l,f,i,i),X(r,e,"se",c,f,i,i))}function ee(r,e){var t=e.__brushOption,a=t.transformable,n=e.childAt(0);n.useStyle(de(t)),n.attr({silent:!a,cursor:a?"move":"default"}),A([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(i){var o=e.childOfName(i.join("")),s=i.length===1?ae(r,i[0]):Pn(r,i);o&&o.attr({silent:!a,invisible:!a,cursor:a?Tn[s]+"-resize":null})})}function X(r,e,t,a,n,i,o){var s=e.childOfName(t);s&&s.setShape(En(ge(r,e,[[a,n],[a+i,n+o]])))}function de(r){return it({strokeNoScale:!0},r.brushStyle)}function Wa(r,e,t,a){var n=[xt(r,t),xt(e,a)],i=[ft(r,t),ft(e,a)];return[[n[0],i[0]],[n[1],i[1]]]}function Ln(r){return ue(r.group)}function ae(r,e){var t={w:"left",e:"right",n:"top",s:"bottom"},a={left:"w",right:"e",top:"n",bottom:"s"},n=wa(t[e],Ln(r));return a[n]}function Pn(r,e){var t=[ae(r,e[0]),ae(r,e[1])];return(t[0]==="e"||t[0]==="w")&&t.reverse(),t.join("")}function $e(r,e,t,a,n,i){var o=t.__brushOption,s=r.toRectRange(o.range),l=Fa(e,n,i);A(a,function(u){var h=Cn[u];s[h[0]][h[1]]+=l[h[0]]}),o.range=r.fromRectRange(Wa(s[0][0],s[1][0],s[0][1],s[1][1])),ce(e,t),lt(e,{isEnd:!1})}function On(r,e,t,a){var n=e.__brushOption.range,i=Fa(r,t,a);A(n,function(o){o[0]+=i[0],o[1]+=i[1]}),ce(r,e),lt(r,{isEnd:!1})}function Fa(r,e,t){var a=r.group,n=a.transformCoordToLocal(e,t),i=a.transformCoordToLocal(0,0);return[n[0]-i[0],n[1]-i[1]]}function ge(r,e,t){var a=Va(r,e);return a&&a!==st?a.clipPath(t,r._transform):$(t)}function En(r){var e=xt(r[0][0],r[1][0]),t=xt(r[0][1],r[1][1]),a=ft(r[0][0],r[1][0]),n=ft(r[0][1],r[1][1]);return{x:e,y:t,width:a-e,height:n-t}}function kn(r,e,t){if(!(!r._brushType||zn(r,e.offsetX,e.offsetY))){var a=r._zr,n=r._covers,i=pe(r,e,t);if(!r._dragging)for(var o=0;o<n.length;o++){var s=n[o].__brushOption;if(i&&(i===st||s.panelId===i.panelId)&&kt[s.brushType].contain(n[o],t[0],t[1]))return}i&&a.setCursorStyle("crosshair")}}function re(r){var e=r.event;e.preventDefault&&e.preventDefault()}function ne(r,e,t){return r.childOfName("main").contain(e,t)}function Ua(r,e,t,a){var n=r._creatingCover,i=r._creatingPanel,o=r._brushOption,s;if(r._track.push(t.slice()),Rn(r)||n){if(i&&!n){o.brushMode==="single"&&te(r);var l=$(o);l.brushType=Ye(l.brushType,i),l.panelId=i===st?null:i.panelId,n=r._creatingCover=ka(r,l),r._covers.push(n)}if(n){var u=kt[Ye(r._brushType,i)],h=n.__brushOption;h.range=u.getCreatingRange(ge(r,n,r._track)),a&&(Za(r,n),u.updateCommon(r,n)),za(r,n),s={isEnd:a}}}else a&&o.brushMode==="single"&&o.removeOnClick&&pe(r,e,t)&&te(r)&&(s={isEnd:a,removeOnClick:!0});return s}function Ye(r,e){return r==="auto"?e.defaultBrushType:r}var Zn={mousedown:function(r){if(this._dragging)Ke(this,r);else if(!r.target||!r.target.draggable){re(r);var e=this.group.transformCoordToLocal(r.offsetX,r.offsetY);this._creatingCover=null;var t=this._creatingPanel=pe(this,r,e);t&&(this._dragging=!0,this._track=[e.slice()])}},mousemove:function(r){var e=r.offsetX,t=r.offsetY,a=this.group.transformCoordToLocal(e,t);if(kn(this,r,a),this._dragging){re(r);var n=Ua(this,r,a,!1);n&&lt(this,n)}},mouseup:function(r){Ke(this,r)}};function Ke(r,e){if(r._dragging){re(e);var t=e.offsetX,a=e.offsetY,n=r.group.transformCoordToLocal(t,a),i=Ua(r,e,n,!0);r._dragging=!1,r._track=[],r._creatingCover=null,i&&lt(r,i)}}function zn(r,e,t){var a=r._zr;return e<0||e>a.getWidth()||t<0||t>a.getHeight()}var kt={lineX:je(0),lineY:je(1),rect:{createCover:function(r,e){function t(a){return a}return Ga({toRectRange:t,fromRectRange:t},r,e,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(r){var e=Na(r);return Wa(e[1][0],e[1][1],e[0][0],e[0][1])},updateCoverShape:function(r,e,t,a){Ha(r,e,t,a)},updateCommon:ee,contain:ne},polygon:{createCover:function(r,e){var t=new K;return t.add(new Sa({name:"main",style:de(e),silent:!0})),t},getCreatingRange:function(r){return r},endCreating:function(r,e){e.remove(e.childAt(0)),e.add(new xa({name:"main",draggable:!0,drift:G(On,r,e),ondragend:G(lt,r,{isEnd:!0})}))},updateCoverShape:function(r,e,t,a){e.childAt(0).setShape({points:ge(r,e,t)})},updateCommon:ee,contain:ne}};function je(r){return{createCover:function(e,t){return Ga({toRectRange:function(a){var n=[a,[0,100]];return r&&n.reverse(),n},fromRectRange:function(a){return a[r]}},e,t,[[["w"],["e"]],[["n"],["s"]]][r])},getCreatingRange:function(e){var t=Na(e),a=xt(t[0][r],t[1][r]),n=ft(t[0][r],t[1][r]);return[a,n]},updateCoverShape:function(e,t,a,n){var i,o=Va(e,t);if(o!==st&&o.getLinearBrushOtherExtent)i=o.getLinearBrushOtherExtent(r);else{var s=e._zr;i=[0,[s.getWidth(),s.getHeight()][1-r]]}var l=[a,i];r&&l.reverse(),Ha(e,t,l,n)},updateCommon:ee,contain:ne}}const Bn=In;function Vn(r){return r=me(r),function(e){return _r(e,r)}}function Nn(r,e){return r=me(r),function(t){var a=e??t,n=a?r.width:r.height,i=a?r.x:r.y;return[i,i+(n||0)]}}function Gn(r,e,t){var a=me(r);return function(n,i){return a.contain(i[0],i[1])&&!Sn(n,e,t)}}function me(r){return br.create(r)}var Je=["x","y","radius","angle","single"],Hn=["cartesian2d","polar","singleAxis"];function Wn(r){var e=r.get("coordinateSystem");return ot(Hn,e)>=0}function et(r){return r+"Axis"}function Fn(r,e){var t=rt(),a=[],n=rt();r.eachComponent({mainType:"dataZoom",query:e},function(h){n.get(h.uid)||s(h)});var i;do i=!1,r.eachComponent("dataZoom",o);while(i);function o(h){!n.get(h.uid)&&l(h)&&(s(h),i=!0)}function s(h){n.set(h.uid,!0),a.push(h),u(h)}function l(h){var v=!1;return h.eachTargetAxis(function(c,f){var p=t.get(c);p&&p[f]&&(v=!0)}),v}function u(h){h.eachTargetAxis(function(v,c){(t.get(v)||t.set(v,[]))[c]=!0})}return a}function Xa(r){var e=r.ecModel,t={infoList:[],infoMap:rt()};return r.eachTargetAxis(function(a,n){var i=e.getComponent(et(a),n);if(i){var o=i.getCoordSysModel();if(o){var s=o.uid,l=t.infoMap.get(s);l||(l={model:o,axisModels:[]},t.infoList.push(l),t.infoMap.set(s,l)),l.axisModels.push(i)}}}),t}var Ht=function(){function r(){this.indexList=[],this.indexMap=[]}return r.prototype.add=function(e){this.indexMap[e]||(this.indexList.push(e),this.indexMap[e]=!0)},r}(),Un=function(r){P(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t._autoThrottle=!0,t._noTarget=!0,t._rangePropMode=["percent","percent"],t}return e.prototype.init=function(t,a,n){var i=qe(t);this.settledOption=i,this.mergeDefaultAndTheme(t,n),this._doInit(i)},e.prototype.mergeOption=function(t){var a=qe(t);Y(this.option,t,!0),Y(this.settledOption,a,!0),this._doInit(a)},e.prototype._doInit=function(t){var a=this.option;this._setDefaultThrottle(t),this._updateRangeUse(t);var n=this.settledOption;A([["start","startValue"],["end","endValue"]],function(i,o){this._rangePropMode[o]==="value"&&(a[i[0]]=n[i[0]]=null)},this),this._resetTarget()},e.prototype._resetTarget=function(){var t=this.get("orient",!0),a=this._targetAxisInfoMap=rt(),n=this._fillSpecifiedTargetAxis(a);n?this._orient=t||this._makeAutoOrientByTargetAxis():(this._orient=t||"horizontal",this._fillAutoTargetAxisByOrient(a,this._orient)),this._noTarget=!0,a.each(function(i){i.indexList.length&&(this._noTarget=!1)},this)},e.prototype._fillSpecifiedTargetAxis=function(t){var a=!1;return A(Je,function(n){var i=this.getReferringComponents(et(n),Sr);if(i.specified){a=!0;var o=new Ht;A(i.models,function(s){o.add(s.componentIndex)}),t.set(n,o)}},this),a},e.prototype._fillAutoTargetAxisByOrient=function(t,a){var n=this.ecModel,i=!0;if(i){var o=a==="vertical"?"y":"x",s=n.findComponents({mainType:o+"Axis"});l(s,o)}if(i){var s=n.findComponents({mainType:"singleAxis",filter:function(h){return h.get("orient",!0)===a}});l(s,"single")}function l(u,h){var v=u[0];if(v){var c=new Ht;if(c.add(v.componentIndex),t.set(h,c),i=!1,h==="x"||h==="y"){var f=v.getReferringComponents("grid",Pt).models[0];f&&A(u,function(p){v.componentIndex!==p.componentIndex&&f===p.getReferringComponents("grid",Pt).models[0]&&c.add(p.componentIndex)})}}}i&&A(Je,function(u){if(i){var h=n.findComponents({mainType:et(u),filter:function(c){return c.get("type",!0)==="category"}});if(h[0]){var v=new Ht;v.add(h[0].componentIndex),t.set(u,v),i=!1}}},this)},e.prototype._makeAutoOrientByTargetAxis=function(){var t;return this.eachTargetAxis(function(a){!t&&(t=a)},this),t==="y"?"vertical":"horizontal"},e.prototype._setDefaultThrottle=function(t){if(t.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var a=this.ecModel.option;this.option.throttle=a.animation&&a.animationDurationUpdate>0?100:20}},e.prototype._updateRangeUse=function(t){var a=this._rangePropMode,n=this.get("rangeMode");A([["start","startValue"],["end","endValue"]],function(i,o){var s=t[i[0]]!=null,l=t[i[1]]!=null;s&&!l?a[o]="percent":!s&&l?a[o]="value":n?a[o]=n[o]:s&&(a[o]="percent")})},e.prototype.noTarget=function(){return this._noTarget},e.prototype.getFirstTargetAxisModel=function(){var t;return this.eachTargetAxis(function(a,n){t==null&&(t=this.ecModel.getComponent(et(a),n))},this),t},e.prototype.eachTargetAxis=function(t,a){this._targetAxisInfoMap.each(function(n,i){A(n.indexList,function(o){t.call(a,i,o)})})},e.prototype.getAxisProxy=function(t,a){var n=this.getAxisModel(t,a);if(n)return n.__dzAxisProxy},e.prototype.getAxisModel=function(t,a){var n=this._targetAxisInfoMap.get(t);if(n&&n.indexMap[a])return this.ecModel.getComponent(et(t),a)},e.prototype.setRawRange=function(t){var a=this.option,n=this.settledOption;A([["start","startValue"],["end","endValue"]],function(i){(t[i[0]]!=null||t[i[1]]!=null)&&(a[i[0]]=n[i[0]]=t[i[0]],a[i[1]]=n[i[1]]=t[i[1]])},this),this._updateRangeUse(t)},e.prototype.setCalculatedRange=function(t){var a=this.option;A(["start","startValue","end","endValue"],function(n){a[n]=t[n]})},e.prototype.getPercentRange=function(){var t=this.findRepresentativeAxisProxy();if(t)return t.getDataPercentWindow()},e.prototype.getValueRange=function(t,a){if(t==null&&a==null){var n=this.findRepresentativeAxisProxy();if(n)return n.getDataValueWindow()}else return this.getAxisProxy(t,a).getDataValueWindow()},e.prototype.findRepresentativeAxisProxy=function(t){if(t)return t.__dzAxisProxy;for(var a,n=this._targetAxisInfoMap.keys(),i=0;i<n.length;i++)for(var o=n[i],s=this._targetAxisInfoMap.get(o),l=0;l<s.indexList.length;l++){var u=this.getAxisProxy(o,s.indexList[l]);if(u.hostedBy(this))return u;a||(a=u)}return a},e.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},e.prototype.getOrient=function(){return this._orient},e.type="dataZoom",e.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],e.defaultOption={z:4,filterMode:"filter",start:0,end:100},e}(Ma);function qe(r){var e={};return A(["start","end","startValue","endValue","throttle"],function(t){r.hasOwnProperty(t)&&(e[t]=r[t])}),e}const wt=Un;var Xn=function(r){P(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.type="dataZoom.select",e}(wt);const $n=Xn;var Yn=function(r){P(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,a,n,i){this.dataZoomModel=t,this.ecModel=a,this.api=n},e.type="dataZoom",e}(Aa);const ye=Yn;var Kn=function(r){P(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.type="dataZoom.select",e}(ye);const jn=Kn;var ht=A,Qe=_t,Jn=function(){function r(e,t,a,n){this._dimName=e,this._axisIndex=t,this.ecModel=n,this._dataZoomModel=a}return r.prototype.hostedBy=function(e){return this._dataZoomModel===e},r.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},r.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},r.prototype.getTargetSeriesModels=function(){var e=[];return this.ecModel.eachSeries(function(t){if(Wn(t)){var a=et(this._dimName),n=t.getReferringComponents(a,Pt).models[0];n&&this._axisIndex===n.componentIndex&&e.push(t)}},this),e},r.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},r.prototype.getMinMaxSpan=function(){return $(this._minMaxSpan)},r.prototype.calculateDataWindow=function(e){var t=this._dataExtent,a=this.getAxisModel(),n=a.axis.scale,i=this._dataZoomModel.getRangePropMode(),o=[0,100],s=[],l=[],u;ht(["start","end"],function(c,f){var p=e[c],d=e[c+"Value"];i[f]==="percent"?(p==null&&(p=o[f]),d=n.parse(V(p,o,t))):(u=!0,d=d==null?t[f]:n.parse(d),p=V(d,t,o)),l[f]=d==null||isNaN(d)?t[f]:d,s[f]=p==null||isNaN(p)?o[f]:p}),Qe(l),Qe(s);var h=this._minMaxSpan;u?v(l,s,t,o,!1):v(s,l,o,t,!0);function v(c,f,p,d,y){var m=y?"Span":"ValueSpan";Mt(0,c,p,"all",h["min"+m],h["max"+m]);for(var g=0;g<2;g++)f[g]=V(c[g],p,d,!0),y&&(f[g]=n.parse(f[g]))}return{valueWindow:l,percentWindow:s}},r.prototype.reset=function(e){if(e===this._dataZoomModel){var t=this.getTargetSeriesModels();this._dataExtent=qn(this,this._dimName,t),this._updateMinMaxSpan();var a=this.calculateDataWindow(e.settledOption);this._valueWindow=a.valueWindow,this._percentWindow=a.percentWindow,this._setAxisModel()}},r.prototype.filterData=function(e,t){if(e!==this._dataZoomModel)return;var a=this._dimName,n=this.getTargetSeriesModels(),i=e.get("filterMode"),o=this._valueWindow;if(i==="none")return;ht(n,function(l){var u=l.getData(),h=u.mapDimensionsAll(a);if(h.length){if(i==="weakFilter"){var v=u.getStore(),c=N(h,function(f){return u.getDimensionIndex(f)},u);u.filterSelf(function(f){for(var p,d,y,m=0;m<h.length;m++){var g=v.get(c[m],f),_=!isNaN(g),b=g<o[0],x=g>o[1];if(_&&!b&&!x)return!0;_&&(y=!0),b&&(p=!0),x&&(d=!0)}return y&&p&&d})}else ht(h,function(f){if(i==="empty")l.setData(u=u.map(f,function(d){return s(d)?d:NaN}));else{var p={};p[f]=o,u.selectRange(p)}});ht(h,function(f){u.setApproximateExtent(o,f)})}});function s(l){return l>=o[0]&&l<=o[1]}},r.prototype._updateMinMaxSpan=function(){var e=this._minMaxSpan={},t=this._dataZoomModel,a=this._dataExtent;ht(["min","max"],function(n){var i=t.get(n+"Span"),o=t.get(n+"ValueSpan");o!=null&&(o=this.getAxisModel().axis.scale.parse(o)),o!=null?i=V(a[0]+o,a,[0,100],!0):i!=null&&(o=V(i,[0,100],a,!0)-a[0]),e[n+"Span"]=i,e[n+"ValueSpan"]=o},this)},r.prototype._setAxisModel=function(){var e=this.getAxisModel(),t=this._percentWindow,a=this._valueWindow;if(t){var n=xr(a,[0,500]);n=Math.min(n,20);var i=e.axis.scale.rawExtentInfo;t[0]!==0&&i.setDeterminedMinMax("min",+a[0].toFixed(n)),t[1]!==100&&i.setDeterminedMinMax("max",+a[1].toFixed(n)),i.freeze()}},r}();function qn(r,e,t){var a=[1/0,-1/0];ht(t,function(o){wr(a,o.getData(),e)});var n=r.getAxisModel(),i=Mr(n.axis.scale,n,a).calculate();return[i.min,i.max]}const Qn=Jn;var ti={getTargetSeries:function(r){function e(n){r.eachComponent("dataZoom",function(i){i.eachTargetAxis(function(o,s){var l=r.getComponent(et(o),s);n(o,s,l,i)})})}e(function(n,i,o,s){o.__dzAxisProxy=null});var t=[];e(function(n,i,o,s){o.__dzAxisProxy||(o.__dzAxisProxy=new Qn(n,i,s,r),t.push(o.__dzAxisProxy))});var a=rt();return A(t,function(n){A(n.getTargetSeriesModels(),function(i){a.set(i.uid,i)})}),a},overallReset:function(r,e){r.eachComponent("dataZoom",function(t){t.eachTargetAxis(function(a,n){t.getAxisProxy(a,n).reset(t)}),t.eachTargetAxis(function(a,n){t.getAxisProxy(a,n).filterData(t,e)})}),r.eachComponent("dataZoom",function(t){var a=t.findRepresentativeAxisProxy();if(a){var n=a.getDataPercentWindow(),i=a.getDataValueWindow();t.setCalculatedRange({start:n[0],end:n[1],startValue:i[0],endValue:i[1]})}})}};const ei=ti;function ai(r){r.registerAction("dataZoom",function(e,t){var a=Fn(t,e);A(a,function(n){n.setRawRange({start:e.start,end:e.end,startValue:e.startValue,endValue:e.endValue})})})}var ta=!1;function _e(r){ta||(ta=!0,r.registerProcessor(r.PRIORITY.PROCESSOR.FILTER,ei),ai(r),r.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function ri(r){r.registerComponentModel($n),r.registerComponentView(jn),_e(r)}var F=function(){function r(){}return r}(),$a={};function gt(r,e){$a[r]=e}function Ya(r){return $a[r]}var ni=function(r){P(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.optionUpdated=function(){r.prototype.optionUpdated.apply(this,arguments);var t=this.ecModel;A(this.option.feature,function(a,n){var i=Ya(n);i&&(i.getDefaultOption&&(i.defaultOption=i.getDefaultOption(t)),Y(a,i.defaultOption))})},e.type="toolbox",e.layoutMode={type:"box",ignoreSize:!0},e.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},e}(Ma);const ii=ni;var oi=function(r){P(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.render=function(t,a,n,i){var o=this.group;if(o.removeAll(),!t.get("show"))return;var s=+t.get("itemSize"),l=t.get("orient")==="vertical",u=t.get("feature")||{},h=this._features||(this._features={}),v=[];A(u,function(p,d){v.push(d)}),new ba(this._featureNames||[],v).add(c).update(c).remove(G(c,null)).execute(),this._featureNames=v;function c(p,d){var y=v[p],m=v[d],g=u[y],_=new Ar(g,t,t.ecModel),b;if(i&&i.newTitle!=null&&i.featureName===y&&(g.title=i.newTitle),y&&!m){if(si(y))b={onclick:_.option.onclick,featureName:y};else{var x=Ya(y);if(!x)return;b=new x}h[y]=b}else if(b=h[m],!b)return;b.uid=Cr("toolbox-feature"),b.model=_,b.ecModel=a,b.api=n;var S=b instanceof F;if(!y&&m){S&&b.dispose&&b.dispose(a,n);return}if(!_.get("show")||S&&b.unusable){S&&b.remove&&b.remove(a,n);return}f(_,b,y),_.setIconStatus=function(w,T){var M=this.option,D=this.iconPaths;M.iconStatus=M.iconStatus||{},M.iconStatus[w]=T,D[w]&&(T==="emphasis"?$t:Yt)(D[w])},b instanceof F&&b.render&&b.render(_,a,n,i)}function f(p,d,y){var m=p.getModel("iconStyle"),g=p.getModel(["emphasis","iconStyle"]),_=d instanceof F&&d.getIcons?d.getIcons():p.get("icon"),b=p.get("title")||{},x,S;St(_)?(x={},x[y]=_):x=_,St(b)?(S={},S[y]=b):S=b;var w=p.iconPaths={};A(x,function(T,M){var D=Tr(T,{},{x:-s/2,y:-s/2,width:s,height:s});D.setStyle(m.getItemStyle());var I=D.ensureState("emphasis");I.style=g.getItemStyle();var C=new Rt({style:{text:S[M],align:g.get("textAlign"),borderRadius:g.get("textBorderRadius"),padding:g.get("textPadding"),fill:null,font:Dr({fontStyle:g.get("textFontStyle"),fontFamily:g.get("textFontFamily"),fontSize:g.get("textFontSize"),fontWeight:g.get("textFontWeight")},a)},ignore:!0});D.setTextContent(C),Ir({el:D,componentModel:t,itemName:M,formatterParamsExtra:{title:S[M]}}),D.__title=S[M],D.on("mouseover",function(){var R=g.getItemStyle(),k=l?t.get("right")==null&&t.get("left")!=="right"?"right":"left":t.get("bottom")==null&&t.get("top")!=="bottom"?"bottom":"top";C.setStyle({fill:g.get("textFill")||R.fill||R.stroke||"#000",backgroundColor:g.get("textBackgroundColor")}),D.setTextConfig({position:g.get("textPosition")||k}),C.ignore=!t.get("showTitle"),n.enterEmphasis(this)}).on("mouseout",function(){p.get(["iconStatus",M])!=="emphasis"&&n.leaveEmphasis(this),C.hide()}),(p.get(["iconStatus",M])==="emphasis"?$t:Yt)(D),o.add(D),D.on("click",L(d.onclick,d,a,n,M)),w[M]=D})}Rr(o,t,n),o.add(Lr(o.getBoundingRect(),t)),l||o.eachChild(function(p){var d=p.__title,y=p.ensureState("emphasis"),m=y.textConfig||(y.textConfig={}),g=p.getTextContent(),_=g&&g.ensureState("emphasis");if(_&&!at(_)&&d){var b=_.style||(_.style={}),x=Pr(d,Rt.makeFont(b)),S=p.x+o.x,w=p.y+o.y+s,T=!1;w+x.height>n.getHeight()&&(m.position="top",T=!0);var M=T?-5-x.height:s+10;S+x.width/2>n.getWidth()?(m.position=["100%",M],b.align="right"):S-x.width/2<0&&(m.position=[0,M],b.align="left")}})},e.prototype.updateView=function(t,a,n,i){A(this._features,function(o){o instanceof F&&o.updateView&&o.updateView(o.model,a,n,i)})},e.prototype.remove=function(t,a){A(this._features,function(n){n instanceof F&&n.remove&&n.remove(t,a)}),this.group.removeAll()},e.prototype.dispose=function(t,a){A(this._features,function(n){n instanceof F&&n.dispose&&n.dispose(t,a)})},e.type="toolbox",e}(Aa);function si(r){return r.indexOf("my")===0}const li=oi;var ui=function(r){P(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.onclick=function(t,a){var n=this.model,i=n.get("name")||t.get("title.0.text")||"echarts",o=a.getZr().painter.getType()==="svg",s=o?"svg":n.get("type",!0)||"png",l=a.getConnectedDataURL({type:s,backgroundColor:n.get("backgroundColor",!0)||t.get("backgroundColor")||"#fff",connectedBackgroundColor:n.get("connectedBackgroundColor"),excludeComponents:n.get("excludeComponents"),pixelRatio:n.get("pixelRatio")}),u=Or.browser;if(at(MouseEvent)&&(u.newEdge||!u.ie&&!u.edge)){var h=document.createElement("a");h.download=i+"."+s,h.target="_blank",h.href=l;var v=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});h.dispatchEvent(v)}else if(window.navigator.msSaveOrOpenBlob||o){var c=l.split(","),f=c[0].indexOf("base64")>-1,p=o?decodeURIComponent(c[1]):c[1];f&&(p=window.atob(p));var d=i+"."+s;if(window.navigator.msSaveOrOpenBlob){for(var y=p.length,m=new Uint8Array(y);y--;)m[y]=p.charCodeAt(y);var g=new Blob([m]);window.navigator.msSaveOrOpenBlob(g,d)}else{var _=document.createElement("iframe");document.body.appendChild(_);var b=_.contentWindow,x=b.document;x.open("image/svg+xml","replace"),x.write(p),x.close(),b.focus(),x.execCommand("SaveAs",!0,d),document.body.removeChild(_)}}else{var S=n.get("lang"),w='<body style="margin:0;"><img src="'+l+'" style="max-width:100%;" title="'+(S&&S[0]||"")+'" /></body>',T=window.open();T.document.write(w),T.document.title=i}},e.getDefaultOption=function(t){var a={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:t.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:t.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return a},e}(F);const hi=ui;var ea="__ec_magicType_stack__",vi=[["line","bar"],["stack"]],ci=function(r){P(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getIcons=function(){var t=this.model,a=t.get("icon"),n={};return A(t.get("type"),function(i){a[i]&&(n[i]=a[i])}),n},e.getDefaultOption=function(t){var a={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:t.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return a},e.prototype.onclick=function(t,a,n){var i=this.model,o=i.get(["seriesIndex",n]);if(aa[n]){var s={series:[]},l=function(v){var c=v.subType,f=v.id,p=aa[n](c,f,v,i);p&&(it(p,v.option),s.series.push(p));var d=v.coordinateSystem;if(d&&d.type==="cartesian2d"&&(n==="line"||n==="bar")){var y=d.getAxesByScale("ordinal")[0];if(y){var m=y.dim,g=m+"Axis",_=v.getReferringComponents(g,Pt).models[0],b=_.componentIndex;s[g]=s[g]||[];for(var x=0;x<=b;x++)s[g][b]=s[g][b]||{};s[g][b].boundaryGap=n==="bar"}}};A(vi,function(v){ot(v,n)>=0&&A(v,function(c){i.setIconStatus(c,"normal")})}),i.setIconStatus(n,"emphasis"),t.eachComponent({mainType:"series",query:o==null?null:{seriesIndex:o}},l);var u,h=n;n==="stack"&&(u=Y({stack:i.option.title.tiled,tiled:i.option.title.stack},i.option.title),i.get(["iconStatus",n])!=="emphasis"&&(h="tiled")),a.dispatchAction({type:"changeMagicType",currentType:h,newOption:s,newTitle:u,featureName:"magicType"})}},e}(F),aa={line:function(r,e,t,a){if(r==="bar")return Y({id:e,type:"line",data:t.get("data"),stack:t.get("stack"),markPoint:t.get("markPoint"),markLine:t.get("markLine")},a.get(["option","line"])||{},!0)},bar:function(r,e,t,a){if(r==="line")return Y({id:e,type:"bar",data:t.get("data"),stack:t.get("stack"),markPoint:t.get("markPoint"),markLine:t.get("markLine")},a.get(["option","bar"])||{},!0)},stack:function(r,e,t,a){var n=t.get("stack")===ea;if(r==="line"||r==="bar")return a.setIconStatus("stack",n?"normal":"emphasis"),Y({id:e,stack:n?"":ea},a.get(["option","stack"])||{},!0)}};Et({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(r,e){e.mergeOption(r.newOption)});const fi=ci;var Zt=new Array(60).join("-"),pt="	";function pi(r){var e={},t=[],a=[];return r.eachRawSeries(function(n){var i=n.coordinateSystem;if(i&&(i.type==="cartesian2d"||i.type==="polar")){var o=i.getBaseAxis();if(o.type==="category"){var s=o.dim+"_"+o.index;e[s]||(e[s]={categoryAxis:o,valueAxis:i.getOtherAxis(o),series:[]},a.push({axisDim:o.dim,axisIndex:o.index})),e[s].series.push(n)}else t.push(n)}else t.push(n)}),{seriesGroupByCategoryAxis:e,other:t,meta:a}}function di(r){var e=[];return A(r,function(t,a){var n=t.categoryAxis,i=t.valueAxis,o=i.dim,s=[" "].concat(N(t.series,function(f){return f.name})),l=[n.model.getCategories()];A(t.series,function(f){var p=f.getRawData();l.push(f.getRawData().mapArray(p.mapDimension(o),function(d){return d}))});for(var u=[s.join(pt)],h=0;h<l[0].length;h++){for(var v=[],c=0;c<l.length;c++)v.push(l[c][h]);u.push(v.join(pt))}e.push(u.join(`
`))}),e.join(`

`+Zt+`

`)}function gi(r){return N(r,function(e){var t=e.getRawData(),a=[e.name],n=[];return t.each(t.dimensions,function(){for(var i=arguments.length,o=arguments[i-1],s=t.getName(o),l=0;l<i-1;l++)n[l]=arguments[l];a.push((s?s+pt:"")+n.join(pt))}),a.join(`
`)}).join(`

`+Zt+`

`)}function mi(r){var e=pi(r);return{value:kr([di(e.seriesGroupByCategoryAxis),gi(e.other)],function(t){return!!t.replace(/[\n\t\s]/g,"")}).join(`

`+Zt+`

`),meta:e.meta}}function Ot(r){return r.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function yi(r){var e=r.slice(0,r.indexOf(`
`));if(e.indexOf(pt)>=0)return!0}var ie=new RegExp("["+pt+"]+","g");function _i(r){for(var e=r.split(/\n+/g),t=Ot(e.shift()).split(ie),a=[],n=N(t,function(l){return{name:l,data:[]}}),i=0;i<e.length;i++){var o=Ot(e[i]).split(ie);a.push(o.shift());for(var s=0;s<o.length;s++)n[s]&&(n[s].data[i]=o[s])}return{series:n,categories:a}}function bi(r){for(var e=r.split(/\n+/g),t=Ot(e.shift()),a=[],n=0;n<e.length;n++){var i=Ot(e[n]);if(i){var o=i.split(ie),s="",l=void 0,u=!1;isNaN(o[0])?(u=!0,s=o[0],o=o.slice(1),a[n]={name:s,value:[]},l=a[n].value):l=a[n]=[];for(var h=0;h<o.length;h++)l.push(+o[h]);l.length===1&&(u?a[n].value=l[0]:a[n]=l[0])}}return{name:t,data:a}}function Si(r,e){var t=r.split(new RegExp(`
*`+Zt+`
*`,"g")),a={series:[]};return A(t,function(n,i){if(yi(n)){var o=_i(n),s=e[i],l=s.axisDim+"Axis";s&&(a[l]=a[l]||[],a[l][s.axisIndex]={data:o.categories},a.series=a.series.concat(o.series))}else{var o=bi(n);a.series.push(o)}}),a}var xi=function(r){P(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.onclick=function(t,a){setTimeout(function(){a.dispatchAction({type:"hideTip"})});var n=a.getDom(),i=this.model;this._dom&&n.removeChild(this._dom);var o=document.createElement("div");o.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",o.style.backgroundColor=i.get("backgroundColor")||"#fff";var s=document.createElement("h4"),l=i.get("lang")||[];s.innerHTML=l[0]||i.get("title"),s.style.cssText="margin:10px 20px",s.style.color=i.get("textColor");var u=document.createElement("div"),h=document.createElement("textarea");u.style.cssText="overflow:auto";var v=i.get("optionToContent"),c=i.get("contentToOption"),f=mi(t);if(at(v)){var p=v(a.getOption());St(p)?u.innerHTML=p:Er(p)&&u.appendChild(p)}else{h.readOnly=i.get("readOnly");var d=h.style;d.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",d.color=i.get("textColor"),d.borderColor=i.get("textareaBorderColor"),d.backgroundColor=i.get("textareaColor"),h.value=f.value,u.appendChild(h)}var y=f.meta,m=document.createElement("div");m.style.cssText="position:absolute;bottom:5px;left:0;right:0";var g="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",_=document.createElement("div"),b=document.createElement("div");g+=";background-color:"+i.get("buttonColor"),g+=";color:"+i.get("buttonTextColor");var x=this;function S(){n.removeChild(o),x._dom=null}Pe(_,"click",S),Pe(b,"click",function(){if(c==null&&v!=null||c!=null&&v==null){S();return}var w;try{at(c)?w=c(u,a.getOption()):w=Si(h.value,y)}catch(T){throw S(),new Error("Data view format error "+T)}w&&a.dispatchAction({type:"changeDataView",newOption:w}),S()}),_.innerHTML=l[1],b.innerHTML=l[2],b.style.cssText=_.style.cssText=g,!i.get("readOnly")&&m.appendChild(b),m.appendChild(_),o.appendChild(s),o.appendChild(u),o.appendChild(m),u.style.height=n.clientHeight-80+"px",n.appendChild(o),this._dom=o},e.prototype.remove=function(t,a){this._dom&&a.getDom().removeChild(this._dom)},e.prototype.dispose=function(t,a){this.remove(t,a)},e.getDefaultOption=function(t){var a={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:t.getLocaleModel().get(["toolbox","dataView","title"]),lang:t.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};return a},e}(F);function wi(r,e){return N(r,function(t,a){var n=e&&e[a];if(Jt(n)&&!Oe(n)){var i=Jt(t)&&!Oe(t);i||(t={value:t});var o=n.name!=null&&t.name==null;return t=it(t,n),o&&delete t.name,t}else return t})}Et({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(r,e){var t=[];A(r.newOption.series,function(a){var n=e.getSeriesByName(a.name)[0];if(!n)t.push(Kt({type:"scatter"},a));else{var i=n.get("data");t.push({name:a.name,data:wi(a.data,i)})}}),e.mergeOption(it({series:t},r.newOption))});const Mi=xi;var Ka=A,ja=Ca();function Ai(r,e){var t=be(r);Ka(e,function(a,n){for(var i=t.length-1;i>=0;i--){var o=t[i];if(o[n])break}if(i<0){var s=r.queryComponents({mainType:"dataZoom",subType:"select",id:n})[0];if(s){var l=s.getPercentRange();t[0][n]={dataZoomId:n,start:l[0],end:l[1]}}}}),t.push(e)}function Ci(r){var e=be(r),t=e[e.length-1];e.length>1&&e.pop();var a={};return Ka(t,function(n,i){for(var o=e.length-1;o>=0;o--)if(n=e[o][i],n){a[i]=n;break}}),a}function Ti(r){ja(r).snapshots=null}function Di(r){return be(r).length}function be(r){var e=ja(r);return e.snapshots||(e.snapshots=[{}]),e.snapshots}var Ii=function(r){P(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.onclick=function(t,a){Ti(t),a.dispatchAction({type:"restore",from:this.uid})},e.getDefaultOption=function(t){var a={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:t.getLocaleModel().get(["toolbox","restore","title"])};return a},e}(F);Et({type:"restore",event:"restore",update:"prepareAndUpdate"},function(r,e){e.resetOption("recreate")});const Ri=Ii;var Li=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],Pi=function(){function r(e,t,a){var n=this;this._targetInfoList=[];var i=ra(t,e);A(Oi,function(o,s){(!a||!a.include||ot(a.include,s)>=0)&&o(i,n._targetInfoList)})}return r.prototype.setOutputRanges=function(e,t){return this.matchOutputRanges(e,t,function(a,n,i){if((a.coordRanges||(a.coordRanges=[])).push(n),!a.coordRange){a.coordRange=n;var o=Wt[a.brushType](0,i,n);a.__rangeOffset={offset:sa[a.brushType](o.values,a.range,[1,1]),xyMinMax:o.xyMinMax}}}),e},r.prototype.matchOutputRanges=function(e,t,a){A(e,function(n){var i=this.findTargetInfo(n,t);i&&i!==!0&&A(i.coordSyses,function(o){var s=Wt[n.brushType](1,o,n.range,!0);a(n,s.values,o,t)})},this)},r.prototype.setInputRanges=function(e,t){A(e,function(a){var n=this.findTargetInfo(a,t);if(a.range=a.range||[],n&&n!==!0){a.panelId=n.panelId;var i=Wt[a.brushType](0,n.coordSys,a.coordRange),o=a.__rangeOffset;a.range=o?sa[a.brushType](i.values,o.offset,Ei(i.xyMinMax,o.xyMinMax)):i.values}},this)},r.prototype.makePanelOpts=function(e,t){return N(this._targetInfoList,function(a){var n=a.getPanelRect();return{panelId:a.panelId,defaultBrushType:t?t(a):null,clipPath:Vn(n),isTargetByCursor:Gn(n,e,a.coordSysModel),getLinearBrushOtherExtent:Nn(n)}})},r.prototype.controlSeries=function(e,t,a){var n=this.findTargetInfo(e,a);return n===!0||n&&ot(n.coordSyses,t.coordinateSystem)>=0},r.prototype.findTargetInfo=function(e,t){for(var a=this._targetInfoList,n=ra(t,e),i=0;i<a.length;i++){var o=a[i],s=e.panelId;if(s){if(o.panelId===s)return o}else for(var l=0;l<na.length;l++)if(na[l](n,o))return o}return!0},r}();function oe(r){return r[0]>r[1]&&r.reverse(),r}function ra(r,e){return Ta(r,e,{includeMainTypes:Li})}var Oi={grid:function(r,e){var t=r.xAxisModels,a=r.yAxisModels,n=r.gridModels,i=rt(),o={},s={};!t&&!a&&!n||(A(t,function(l){var u=l.axis.grid.model;i.set(u.id,u),o[u.id]=!0}),A(a,function(l){var u=l.axis.grid.model;i.set(u.id,u),s[u.id]=!0}),A(n,function(l){i.set(l.id,l),o[l.id]=!0,s[l.id]=!0}),i.each(function(l){var u=l.coordinateSystem,h=[];A(u.getCartesians(),function(v,c){(ot(t,v.getAxis("x").model)>=0||ot(a,v.getAxis("y").model)>=0)&&h.push(v)}),e.push({panelId:"grid--"+l.id,gridModel:l,coordSysModel:l,coordSys:h[0],coordSyses:h,getPanelRect:ia.grid,xAxisDeclared:o[l.id],yAxisDeclared:s[l.id]})}))},geo:function(r,e){A(r.geoModels,function(t){var a=t.coordinateSystem;e.push({panelId:"geo--"+t.id,geoModel:t,coordSysModel:t,coordSys:a,coordSyses:[a],getPanelRect:ia.geo})})}},na=[function(r,e){var t=r.xAxisModel,a=r.yAxisModel,n=r.gridModel;return!n&&t&&(n=t.axis.grid.model),!n&&a&&(n=a.axis.grid.model),n&&n===e.gridModel},function(r,e){var t=r.geoModel;return t&&t===e.geoModel}],ia={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var r=this.coordSys,e=r.getBoundingRect().clone();return e.applyTransform(ue(r)),e}},Wt={lineX:G(oa,0),lineY:G(oa,1),rect:function(r,e,t,a){var n=r?e.pointToData([t[0][0],t[1][0]],a):e.dataToPoint([t[0][0],t[1][0]],a),i=r?e.pointToData([t[0][1],t[1][1]],a):e.dataToPoint([t[0][1],t[1][1]],a),o=[oe([n[0],i[0]]),oe([n[1],i[1]])];return{values:o,xyMinMax:o}},polygon:function(r,e,t,a){var n=[[1/0,-1/0],[1/0,-1/0]],i=N(t,function(o){var s=r?e.pointToData(o,a):e.dataToPoint(o,a);return n[0][0]=Math.min(n[0][0],s[0]),n[1][0]=Math.min(n[1][0],s[1]),n[0][1]=Math.max(n[0][1],s[0]),n[1][1]=Math.max(n[1][1],s[1]),s});return{values:i,xyMinMax:n}}};function oa(r,e,t,a){var n=t.getAxis(["x","y"][r]),i=oe(N([0,1],function(s){return e?n.coordToData(n.toLocalCoord(a[s]),!0):n.toGlobalCoord(n.dataToCoord(a[s]))})),o=[];return o[r]=i,o[1-r]=[NaN,NaN],{values:i,xyMinMax:o}}var sa={lineX:G(la,0),lineY:G(la,1),rect:function(r,e,t){return[[r[0][0]-t[0]*e[0][0],r[0][1]-t[0]*e[0][1]],[r[1][0]-t[1]*e[1][0],r[1][1]-t[1]*e[1][1]]]},polygon:function(r,e,t){return N(r,function(a,n){return[a[0]-t[0]*e[n][0],a[1]-t[1]*e[n][1]]})}};function la(r,e,t,a){return[e[0]-a[r]*t[0],e[1]-a[r]*t[1]]}function Ei(r,e){var t=ua(r),a=ua(e),n=[t[0]/a[0],t[1]/a[1]];return isNaN(n[0])&&(n[0]=1),isNaN(n[1])&&(n[1]=1),n}function ua(r){return r?[r[0][1]-r[0][0],r[1][1]-r[1][0]]:[NaN,NaN]}const Ja=Pi;var se=A,ki=zr("toolbox-dataZoom_"),Zi=function(r){P(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.render=function(t,a,n,i){this._brushController||(this._brushController=new Bn(n.getZr()),this._brushController.on("brush",L(this._onBrush,this)).mount()),Vi(t,a,this,i,n),Bi(t,a)},e.prototype.onclick=function(t,a,n){zi[n].call(this)},e.prototype.remove=function(t,a){this._brushController&&this._brushController.unmount()},e.prototype.dispose=function(t,a){this._brushController&&this._brushController.dispose()},e.prototype._onBrush=function(t){var a=t.areas;if(!t.isEnd||!a.length)return;var n={},i=this.ecModel;this._brushController.updateCovers([]);var o=new Ja(Se(this.model),i,{include:["grid"]});o.matchOutputRanges(a,i,function(u,h,v){if(v.type==="cartesian2d"){var c=u.brushType;c==="rect"?(s("x",v,h[0]),s("y",v,h[1])):s({lineX:"x",lineY:"y"}[c],v,h)}}),Ai(i,n),this._dispatchZoomAction(n);function s(u,h,v){var c=h.getAxis(u),f=c.model,p=l(u,f,i),d=p.findRepresentativeAxisProxy(f).getMinMaxSpan();(d.minValueSpan!=null||d.maxValueSpan!=null)&&(v=Mt(0,v.slice(),c.scale.getExtent(),0,d.minValueSpan,d.maxValueSpan)),p&&(n[p.id]={dataZoomId:p.id,startValue:v[0],endValue:v[1]})}function l(u,h,v){var c;return v.eachComponent({mainType:"dataZoom",subType:"select"},function(f){var p=f.getAxisModel(u,h.componentIndex);p&&(c=f)}),c}},e.prototype._dispatchZoomAction=function(t){var a=[];se(t,function(n,i){a.push($(n))}),a.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:a})},e.getDefaultOption=function(t){var a={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:t.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}};return a},e}(F),zi={zoom:function(){var r=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:r})},back:function(){this._dispatchZoomAction(Ci(this.ecModel))}};function Se(r){var e={xAxisIndex:r.get("xAxisIndex",!0),yAxisIndex:r.get("yAxisIndex",!0),xAxisId:r.get("xAxisId",!0),yAxisId:r.get("yAxisId",!0)};return e.xAxisIndex==null&&e.xAxisId==null&&(e.xAxisIndex="all"),e.yAxisIndex==null&&e.yAxisId==null&&(e.yAxisIndex="all"),e}function Bi(r,e){r.setIconStatus("back",Di(e)>1?"emphasis":"normal")}function Vi(r,e,t,a,n){var i=t._isZoomActive;a&&a.type==="takeGlobalCursor"&&(i=a.key==="dataZoomSelect"?a.dataZoomSelectActive:!1),t._isZoomActive=i,r.setIconStatus("zoom",i?"emphasis":"normal");var o=new Ja(Se(r),e,{include:["grid"]}),s=o.makePanelOpts(n,function(l){return l.xAxisDeclared&&!l.yAxisDeclared?"lineX":!l.xAxisDeclared&&l.yAxisDeclared?"lineY":"rect"});t._brushController.setPanels(s).enableBrush(i&&s.length?{brushType:"auto",brushStyle:r.getModel("brushStyle").getItemStyle()}:!1)}Zr("dataZoom",function(r){var e=r.getComponent("toolbox",0),t=["feature","dataZoom"];if(!e||e.get(t)==null)return;var a=e.getModel(t),n=[],i=Se(a),o=Ta(r,i);se(o.xAxisModels,function(l){return s(l,"xAxis","xAxisIndex")}),se(o.yAxisModels,function(l){return s(l,"yAxis","yAxisIndex")});function s(l,u,h){var v=l.componentIndex,c={type:"select",$fromToolbox:!0,filterMode:a.get("filterMode",!0)||"filter",id:ki+u+v};c[h]=v,n.push(c)}return n});const Ni=Zi;function co(r){r.registerComponentModel(ii),r.registerComponentView(li),gt("saveAsImage",hi),gt("magicType",fi),gt("dataView",Mi),gt("dataZoom",Ni),gt("restore",Ri),qt(ri)}var Gi=function(r){P(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.type="dataZoom.inside",e.defaultOption=Da(wt.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),e}(wt);const Hi=Gi;var xe=Ca();function Wi(r,e,t){xe(r).coordSysRecordMap.each(function(a){var n=a.dataZoomInfoMap.get(e.uid);n&&(n.getRange=t)})}function Fi(r,e){for(var t=xe(r).coordSysRecordMap,a=t.keys(),n=0;n<a.length;n++){var i=a[n],o=t.get(i),s=o.dataZoomInfoMap;if(s){var l=e.uid,u=s.get(l);u&&(s.removeKey(l),s.keys().length||qa(t,o))}}}function qa(r,e){if(e){r.removeKey(e.model.uid);var t=e.controller;t&&t.dispose()}}function Ui(r,e){var t={model:e,containsPoint:G($i,e),dispatchAction:G(Xi,r),dataZoomInfoMap:null,controller:null},a=t.controller=new _n(r.getZr());return A(["pan","zoom","scrollMove"],function(n){a.on(n,function(i){var o=[];t.dataZoomInfoMap.each(function(s){if(i.isAvailableBehavior(s.model.option)){var l=(s.getRange||{})[n],u=l&&l(s.dzReferCoordSysInfo,t.model.mainType,t.controller,i);!s.model.get("disabled",!0)&&u&&o.push({dataZoomId:s.model.id,start:u[0],end:u[1]})}}),o.length&&t.dispatchAction(o)})}),t}function Xi(r,e){r.isDisposed()||r.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:e})}function $i(r,e,t,a){return r.coordinateSystem.containPoint([t,a])}function Yi(r){var e,t="type_",a={type_true:2,type_move:1,type_false:0,type_undefined:-1},n=!0;return r.each(function(i){var o=i.model,s=o.get("disabled",!0)?!1:o.get("zoomLock",!0)?"move":!0;a[t+s]>a[t+e]&&(e=s),n=n&&o.get("preventDefaultMouseMove",!0)}),{controlType:e,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!n}}}function Ki(r){r.registerProcessor(r.PRIORITY.PROCESSOR.FILTER,function(e,t){var a=xe(t),n=a.coordSysRecordMap||(a.coordSysRecordMap=rt());n.each(function(i){i.dataZoomInfoMap=null}),e.eachComponent({mainType:"dataZoom",subType:"inside"},function(i){var o=Xa(i);A(o.infoList,function(s){var l=s.model.uid,u=n.get(l)||n.set(l,Ui(t,s.model)),h=u.dataZoomInfoMap||(u.dataZoomInfoMap=rt());h.set(i.uid,{dzReferCoordSysInfo:s,model:i,getRange:null})})}),n.each(function(i){var o=i.controller,s,l=i.dataZoomInfoMap;if(l){var u=l.keys()[0];u!=null&&(s=l.get(u))}if(!s){qa(n,i);return}var h=Yi(l);o.enable(h.controlType,h.opt),o.setPointerChecker(i.containsPoint),Ia(i,"dispatchAction",s.model.get("throttle",!0),"fixRate")})})}var ji=function(r){P(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="dataZoom.inside",t}return e.prototype.render=function(t,a,n){if(r.prototype.render.apply(this,arguments),t.noTarget()){this._clear();return}this.range=t.getPercentRange(),Wi(n,t,{pan:L(Ft.pan,this),zoom:L(Ft.zoom,this),scrollMove:L(Ft.scrollMove,this)})},e.prototype.dispose=function(){this._clear(),r.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){Fi(this.api,this.dataZoomModel),this.range=null},e.type="dataZoom.inside",e}(ye),Ft={zoom:function(r,e,t,a){var n=this.range,i=n.slice(),o=r.axisModels[0];if(o){var s=Ut[e](null,[a.originX,a.originY],o,t,r),l=(s.signal>0?s.pixelStart+s.pixelLength-s.pixel:s.pixel-s.pixelStart)/s.pixelLength*(i[1]-i[0])+i[0],u=Math.max(1/a.scale,0);i[0]=(i[0]-l)*u+l,i[1]=(i[1]-l)*u+l;var h=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(Mt(0,i,[0,100],0,h.minSpan,h.maxSpan),this.range=i,n[0]!==i[0]||n[1]!==i[1])return i}},pan:ha(function(r,e,t,a,n,i){var o=Ut[a]([i.oldX,i.oldY],[i.newX,i.newY],e,n,t);return o.signal*(r[1]-r[0])*o.pixel/o.pixelLength}),scrollMove:ha(function(r,e,t,a,n,i){var o=Ut[a]([0,0],[i.scrollDelta,i.scrollDelta],e,n,t);return o.signal*(r[1]-r[0])*i.scrollDelta})};function ha(r){return function(e,t,a,n){var i=this.range,o=i.slice(),s=e.axisModels[0];if(s){var l=r(o,s,e,t,a,n);if(Mt(l,o,[0,100],"all"),this.range=o,i[0]!==o[0]||i[1]!==o[1])return o}}}var Ut={grid:function(r,e,t,a,n){var i=t.axis,o={},s=n.model.coordinateSystem.getRect();return r=r||[0,0],i.dim==="x"?(o.pixel=e[0]-r[0],o.pixelLength=s.width,o.pixelStart=s.x,o.signal=i.inverse?1:-1):(o.pixel=e[1]-r[1],o.pixelLength=s.height,o.pixelStart=s.y,o.signal=i.inverse?-1:1),o},polar:function(r,e,t,a,n){var i=t.axis,o={},s=n.model.coordinateSystem,l=s.getRadiusAxis().getExtent(),u=s.getAngleAxis().getExtent();return r=r?s.pointToCoord(r):[0,0],e=s.pointToCoord(e),t.mainType==="radiusAxis"?(o.pixel=e[0]-r[0],o.pixelLength=l[1]-l[0],o.pixelStart=l[0],o.signal=i.inverse?1:-1):(o.pixel=e[1]-r[1],o.pixelLength=u[1]-u[0],o.pixelStart=u[0],o.signal=i.inverse?-1:1),o},singleAxis:function(r,e,t,a,n){var i=t.axis,o=n.model.coordinateSystem.getRect(),s={};return r=r||[0,0],i.orient==="horizontal"?(s.pixel=e[0]-r[0],s.pixelLength=o.width,s.pixelStart=o.x,s.signal=i.inverse?1:-1):(s.pixel=e[1]-r[1],s.pixelLength=o.height,s.pixelStart=o.y,s.signal=i.inverse?-1:1),s}};const Ji=ji;function qi(r){_e(r),r.registerComponentModel(Hi),r.registerComponentView(Ji),Ki(r)}var Qi=function(r){P(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.type="dataZoom.slider",e.layoutMode="box",e.defaultOption=Da(wt.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),e}(wt);const to=Qi;var mt=ct,va=7,eo=1,Xt=30,ao=7,yt="horizontal",ca="vertical",ro=5,no=["line","bar","candlestick","scatter"],io={easing:"cubicOut",duration:100,delay:0},oo=function(r){P(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t._displayables={},t}return e.prototype.init=function(t,a){this.api=a,this._onBrush=L(this._onBrush,this),this._onBrushEnd=L(this._onBrushEnd,this)},e.prototype.render=function(t,a,n,i){if(r.prototype.render.apply(this,arguments),Ia(this,"_dispatchZoomAction",t.get("throttle"),"fixRate"),this._orient=t.getOrient(),t.get("show")===!1){this.group.removeAll();return}if(t.noTarget()){this._clear(),this.group.removeAll();return}(!i||i.type!=="dataZoom"||i.from!==this.uid)&&this._buildView(),this._updateView()},e.prototype.dispose=function(){this._clear(),r.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){Br(this,"_dispatchZoomAction");var t=this.api.getZr();t.off("mousemove",this._onBrush),t.off("mouseup",this._onBrushEnd)},e.prototype._buildView=function(){var t=this.group;t.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var a=this._displayables.sliderGroup=new K;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),t.add(a),this._positionGroup()},e.prototype._resetLocation=function(){var t=this.dataZoomModel,a=this.api,n=t.get("brushSelect"),i=n?ao:0,o=this._findCoordRect(),s={width:a.getWidth(),height:a.getHeight()},l=this._orient===yt?{right:s.width-o.x-o.width,top:s.height-Xt-va-i,width:o.width,height:Xt}:{right:va,top:o.y,width:Xt,height:o.height},u=Vr(t.option);A(["right","top","width","height"],function(v){u[v]==="ph"&&(u[v]=l[v])});var h=Nr(u,s);this._location={x:h.x,y:h.y},this._size=[h.width,h.height],this._orient===ca&&this._size.reverse()},e.prototype._positionGroup=function(){var t=this.group,a=this._location,n=this._orient,i=this.dataZoomModel.getFirstTargetAxisModel(),o=i&&i.get("inverse"),s=this._displayables.sliderGroup,l=(this._dataShadowInfo||{}).otherAxisInverse;s.attr(n===yt&&!o?{scaleY:l?1:-1,scaleX:1}:n===yt&&o?{scaleY:l?1:-1,scaleX:-1}:n===ca&&!o?{scaleY:l?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:l?-1:1,scaleX:-1,rotation:Math.PI/2});var u=t.getBoundingRect([s]);t.x=a.x-u.x,t.y=a.y-u.y,t.markRedraw()},e.prototype._getViewExtent=function(){return[0,this._size[0]]},e.prototype._renderBackground=function(){var t=this.dataZoomModel,a=this._size,n=this._displayables.sliderGroup,i=t.get("brushSelect");n.add(new mt({silent:!0,shape:{x:0,y:0,width:a[0],height:a[1]},style:{fill:t.get("backgroundColor")},z2:-40}));var o=new mt({shape:{x:0,y:0,width:a[0],height:a[1]},style:{fill:"transparent"},z2:0,onclick:L(this._onClickPanel,this)}),s=this.api.getZr();i?(o.on("mousedown",this._onBrushStart,this),o.cursor="crosshair",s.on("mousemove",this._onBrush),s.on("mouseup",this._onBrushEnd)):(s.off("mousemove",this._onBrush),s.off("mouseup",this._onBrushEnd)),n.add(o)},e.prototype._renderDataShadow=function(){var t=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],!t)return;var a=this._size,n=this._shadowSize||[],i=t.series,o=i.getRawData(),s=i.getShadowDim&&i.getShadowDim(),l=s&&o.getDimensionInfo(s)?i.getShadowDim():t.otherDim;if(l==null)return;var u=this._shadowPolygonPts,h=this._shadowPolylinePts;if(o!==this._shadowData||l!==this._shadowDim||a[0]!==n[0]||a[1]!==n[1]){var v=o.getDataExtent(l),c=(v[1]-v[0])*.3;v=[v[0]-c,v[1]+c];var f=[0,a[1]],p=[0,a[0]],d=[[a[0],0],[0,0]],y=[],m=p[1]/(o.count()-1),g=0,_=Math.round(o.count()/a[0]),b;o.each([l],function(M,D){if(_>0&&D%_){g+=m;return}var I=M==null||isNaN(M)||M==="",C=I?0:V(M,v,f,!0);I&&!b&&D?(d.push([d[d.length-1][0],0]),y.push([y[y.length-1][0],0])):!I&&b&&(d.push([g,0]),y.push([g,0])),d.push([g,C]),y.push([g,C]),g+=m,b=I}),u=this._shadowPolygonPts=d,h=this._shadowPolylinePts=y}this._shadowData=o,this._shadowDim=l,this._shadowSize=[a[0],a[1]];var x=this.dataZoomModel;function S(M){var D=x.getModel(M?"selectedDataBackground":"dataBackground"),I=new K,C=new xa({shape:{points:u},segmentIgnoreThreshold:1,style:D.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),R=new Sa({shape:{points:h},segmentIgnoreThreshold:1,style:D.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return I.add(C),I.add(R),I}for(var w=0;w<3;w++){var T=S(w===1);this._displayables.sliderGroup.add(T),this._displayables.dataShadowSegs.push(T)}},e.prototype._prepareDataShadowInfo=function(){var t=this.dataZoomModel,a=t.get("showDataShadow");if(a!==!1){var n,i=this.ecModel;return t.eachTargetAxis(function(o,s){var l=t.getAxisProxy(o,s).getTargetSeriesModels();A(l,function(u){if(!n&&!(a!==!0&&ot(no,u.get("type"))<0)){var h=i.getComponent(et(o),s).axis,v=so(o),c,f=u.coordinateSystem;v!=null&&f.getOtherAxis&&(c=f.getOtherAxis(h).inverse),v=u.getData().mapDimension(v),n={thisAxis:h,series:u,thisDim:o,otherDim:v,otherAxisInverse:c}}},this)},this),n}},e.prototype._renderHandle=function(){var t=this.group,a=this._displayables,n=a.handles=[null,null],i=a.handleLabels=[null,null],o=this._displayables.sliderGroup,s=this._size,l=this.dataZoomModel,u=this.api,h=l.get("borderRadius")||0,v=l.get("brushSelect"),c=a.filler=new mt({silent:v,style:{fill:l.get("fillerColor")},textConfig:{position:"inside"}});o.add(c),o.add(new mt({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:s[0],height:s[1],r:h},style:{stroke:l.get("dataBackgroundColor")||l.get("borderColor"),lineWidth:eo,fill:"rgba(0,0,0,0)"}})),A([0,1],function(_){var b=l.get("handleIcon");!Gr[b]&&b.indexOf("path://")<0&&b.indexOf("image://")<0&&(b="path://"+b);var x=bt(b,-1,0,2,2,null,!0);x.attr({cursor:fa(this._orient),draggable:!0,drift:L(this._onDragMove,this,_),ondragend:L(this._onDragEnd,this),onmouseover:L(this._showDataInfo,this,!0),onmouseout:L(this._showDataInfo,this,!1),z2:5});var S=x.getBoundingRect(),w=l.get("handleSize");this._handleHeight=Ee(w,this._size[1]),this._handleWidth=S.width/S.height*this._handleHeight,x.setStyle(l.getModel("handleStyle").getItemStyle()),x.style.strokeNoScale=!0,x.rectHover=!0,x.ensureState("emphasis").style=l.getModel(["emphasis","handleStyle"]).getItemStyle(),Hr(x);var T=l.get("handleColor");T!=null&&(x.style.fill=T),o.add(n[_]=x);var M=l.getModel("textStyle");t.add(i[_]=new Rt({silent:!0,invisible:!0,style:Wr(M,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:M.getTextColor(),font:M.getFont()}),z2:10}))},this);var f=c;if(v){var p=Ee(l.get("moveHandleSize"),s[1]),d=a.moveHandle=new ct({style:l.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:s[1]-.5,height:p}}),y=p*.8,m=a.moveHandleIcon=bt(l.get("moveHandleIcon"),-y/2,-y/2,y,y,"#fff",!0);m.silent=!0,m.y=s[1]+p/2-.5,d.ensureState("emphasis").style=l.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var g=Math.min(s[1]/2,Math.max(p,10));f=a.moveZone=new ct({invisible:!0,shape:{y:s[1]-g,height:p+g}}),f.on("mouseover",function(){u.enterEmphasis(d)}).on("mouseout",function(){u.leaveEmphasis(d)}),o.add(d),o.add(m),o.add(f)}f.attr({draggable:!0,cursor:fa(this._orient),drift:L(this._onDragMove,this,"all"),ondragstart:L(this._showDataInfo,this,!0),ondragend:L(this._onDragEnd,this),onmouseover:L(this._showDataInfo,this,!0),onmouseout:L(this._showDataInfo,this,!1)})},e.prototype._resetInterval=function(){var t=this._range=this.dataZoomModel.getPercentRange(),a=this._getViewExtent();this._handleEnds=[V(t[0],[0,100],a,!0),V(t[1],[0,100],a,!0)]},e.prototype._updateInterval=function(t,a){var n=this.dataZoomModel,i=this._handleEnds,o=this._getViewExtent(),s=n.findRepresentativeAxisProxy().getMinMaxSpan(),l=[0,100];Mt(a,i,o,n.get("zoomLock")?"all":t,s.minSpan!=null?V(s.minSpan,l,o,!0):null,s.maxSpan!=null?V(s.maxSpan,l,o,!0):null);var u=this._range,h=this._range=_t([V(i[0],o,l,!0),V(i[1],o,l,!0)]);return!u||u[0]!==h[0]||u[1]!==h[1]},e.prototype._updateView=function(t){var a=this._displayables,n=this._handleEnds,i=_t(n.slice()),o=this._size;A([0,1],function(f){var p=a.handles[f],d=this._handleHeight;p.attr({scaleX:d/2,scaleY:d/2,x:n[f]+(f?-1:1),y:o[1]/2-d/2})},this),a.filler.setShape({x:i[0],y:0,width:i[1]-i[0],height:o[1]});var s={x:i[0],width:i[1]-i[0]};a.moveHandle&&(a.moveHandle.setShape(s),a.moveZone.setShape(s),a.moveZone.getBoundingRect(),a.moveHandleIcon&&a.moveHandleIcon.attr("x",s.x+s.width/2));for(var l=a.dataShadowSegs,u=[0,i[0],i[1],o[0]],h=0;h<l.length;h++){var v=l[h],c=v.getClipPath();c||(c=new ct,v.setClipPath(c)),c.setShape({x:u[h],y:0,width:u[h+1]-u[h],height:o[1]})}this._updateDataInfo(t)},e.prototype._updateDataInfo=function(t){var a=this.dataZoomModel,n=this._displayables,i=n.handleLabels,o=this._orient,s=["",""];if(a.get("showDetail")){var l=a.findRepresentativeAxisProxy();if(l){var u=l.getAxisModel().axis,h=this._range,v=t?l.calculateDataWindow({start:h[0],end:h[1]}).valueWindow:l.getDataValueWindow();s=[this._formatLabel(v[0],u),this._formatLabel(v[1],u)]}}var c=_t(this._handleEnds.slice());f.call(this,0),f.call(this,1);function f(p){var d=ue(n.handles[p].parent,this.group),y=wa(p===0?"right":"left",d),m=this._handleWidth/2+ro,g=ke([c[p]+(p===0?-m:m),this._size[1]/2],d);i[p].setStyle({x:g[0],y:g[1],verticalAlign:o===yt?"middle":y,align:o===yt?y:"center",text:s[p]})}},e.prototype._formatLabel=function(t,a){var n=this.dataZoomModel,i=n.get("labelFormatter"),o=n.get("labelPrecision");(o==null||o==="auto")&&(o=a.getPixelPrecision());var s=t==null||isNaN(t)?"":a.type==="category"||a.type==="time"?a.scale.getLabel({value:Math.round(t)}):t.toFixed(Math.min(o,20));return at(i)?i(t,s):St(i)?i.replace("{value}",s):s},e.prototype._showDataInfo=function(t){t=this._dragging||t;var a=this._displayables,n=a.handleLabels;n[0].attr("invisible",!t),n[1].attr("invisible",!t),a.moveHandle&&this.api[t?"enterEmphasis":"leaveEmphasis"](a.moveHandle,1)},e.prototype._onDragMove=function(t,a,n,i){this._dragging=!0,Lt(i.event);var o=this._displayables.sliderGroup.getLocalTransform(),s=ke([a,n],o,!0),l=this._updateInterval(t,s[0]),u=this.dataZoomModel.get("realtime");this._updateView(!u),l&&u&&this._dispatchZoomAction(!0)},e.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var t=this.dataZoomModel.get("realtime");!t&&this._dispatchZoomAction(!1)},e.prototype._onClickPanel=function(t){var a=this._size,n=this._displayables.sliderGroup.transformCoordToLocal(t.offsetX,t.offsetY);if(!(n[0]<0||n[0]>a[0]||n[1]<0||n[1]>a[1])){var i=this._handleEnds,o=(i[0]+i[1])/2,s=this._updateInterval("all",n[0]-o);this._updateView(),s&&this._dispatchZoomAction(!1)}},e.prototype._onBrushStart=function(t){var a=t.offsetX,n=t.offsetY;this._brushStart=new Fr(a,n),this._brushing=!0,this._brushStartTime=+new Date},e.prototype._onBrushEnd=function(t){if(this._brushing){var a=this._displayables.brushRect;if(this._brushing=!1,!!a){a.attr("ignore",!0);var n=a.shape,i=+new Date;if(!(i-this._brushStartTime<200&&Math.abs(n.width)<5)){var o=this._getViewExtent(),s=[0,100];this._range=_t([V(n.x,o,s,!0),V(n.x+n.width,o,s,!0)]),this._handleEnds=[n.x,n.x+n.width],this._updateView(),this._dispatchZoomAction(!1)}}}},e.prototype._onBrush=function(t){this._brushing&&(Lt(t.event),this._updateBrushRect(t.offsetX,t.offsetY))},e.prototype._updateBrushRect=function(t,a){var n=this._displayables,i=this.dataZoomModel,o=n.brushRect;o||(o=n.brushRect=new mt({silent:!0,style:i.getModel("brushStyle").getItemStyle()}),n.sliderGroup.add(o)),o.attr("ignore",!1);var s=this._brushStart,l=this._displayables.sliderGroup,u=l.transformCoordToLocal(t,a),h=l.transformCoordToLocal(s.x,s.y),v=this._size;u[0]=Math.max(Math.min(v[0],u[0]),0),o.setShape({x:h[0],y:0,width:u[0]-h[0],height:v[1]})},e.prototype._dispatchZoomAction=function(t){var a=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:t?io:null,start:a[0],end:a[1]})},e.prototype._findCoordRect=function(){var t,a=Xa(this.dataZoomModel).infoList;if(!t&&a.length){var n=a[0].model.coordinateSystem;t=n.getRect&&n.getRect()}if(!t){var i=this.api.getWidth(),o=this.api.getHeight();t={x:i*.2,y:o*.2,width:i*.6,height:o*.6}}return t},e.type="dataZoom.slider",e}(ye);function so(r){var e={x:"y",y:"x",radius:"angle",angle:"radius"};return e[r]}function fa(r){return r==="vertical"?"ns-resize":"ew-resize"}const lo=oo;function uo(r){r.registerComponentModel(to),r.registerComponentView(lo),_e(r)}function fo(r){qt(qi),qt(uo)}export{Bn as B,an as E,_n as R,jr as S,F as T,co as a,fo as b,he as c,Gn as d,Nn as e,Ja as f,qi as g,uo as h,vo as i,Vn as m,Sn as o,dn as p,gt as r,Mt as s};
