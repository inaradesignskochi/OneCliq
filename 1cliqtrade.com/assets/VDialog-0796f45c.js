import{z as E,dw as P,L as y,_ as b,dx as D,r as h,a4 as x,v as i,y as S,m as d,O as w,cG as v,a as f,a6 as B,a8 as F,a3 as I,cX as O}from"./index-8e4e81f1.js";import{V as R}from"./dialog-transition-d4838f6c.js";const T=E({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...P({origin:"center center",scrollStrategy:"block",transition:{component:R},zIndex:2400})},"VDialog"),A=y()({name:"VDialog",props:T(),emits:{"update:modelValue":e=>!0},setup(e,m){let{slots:s}=m;const n=b(e,"modelValue"),{scopeId:g}=D(),a=h();function c(o){const l=o.relatedTarget,r=o.target;if(l!==r&&a.value?.contentEl&&a.value?.globalTop&&![document,a.value.contentEl].includes(r)&&!a.value.contentEl.contains(r)){const t=O(a.value.contentEl);if(!t.length)return;const u=t[0],V=t[t.length-1];l===u?V.focus():u.focus()}}x&&i(()=>n.value&&e.retainFocus,o=>{o?document.addEventListener("focusin",c):document.removeEventListener("focusin",c)},{immediate:!0}),i(n,async o=>{await I(),o?a.value.contentEl?.focus({preventScroll:!0}):a.value.activatorEl?.focus({preventScroll:!0})});const p=S(()=>d({"aria-haspopup":"dialog","aria-expanded":String(n.value)},e.activatorProps));return w(()=>{const o=v.filterProps(e);return f(v,d({ref:a,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable},e.class],style:e.style},o,{modelValue:n.value,"onUpdate:modelValue":l=>n.value=l,"aria-modal":"true",activatorProps:p.value,role:"dialog"},g),{activator:s.activator,default:function(){for(var l=arguments.length,r=new Array(l),t=0;t<l;t++)r[t]=arguments[t];return f(B,{root:"VDialog"},{default:()=>[s.default?.(...r)]})}})}),F({},a)}});export{A as V};
