import{z as I,K as J,a1 as Q,dk as X,L as T,y as d,O as w,a as n,S as D,W as Z,dl as p,_ as ee,r as x,cD as te,m as V,T as ne,F as y,aP as ae,a8 as le,a3 as _,cF as ue}from"./index-8e4e81f1.js";import{a as oe,d as ie,u as se,b,f as re,e as ce}from"./VInput-cf82db51.js";import{I as de}from"./VImg-afe548b3.js";const fe=I({active:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...J(),...Q({transition:{component:X}})},"VCounter"),ve=T()({name:"VCounter",functional:!0,props:fe(),setup(e,m){let{slots:o}=m;const i=d(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return w(()=>n(p,{transition:e.transition},{default:()=>[D(n("div",{class:["v-counter",e.class],style:e.style},[o.default?o.default({counter:i.value,max:e.max,value:e.value}):i.value]),[[Z,e.active]])]})),{}}}),me=["color","file","time","date","datetime-local","week","month"],xe=I({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...oe(),...ie()},"VTextField"),ke=T()({name:"VTextField",directives:{Intersect:de},inheritAttrs:!1,props:xe(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,m){let{attrs:o,emit:i,slots:l}=m;const u=ee(e,"modelValue"),{isFocused:s,focus:N,blur:A}=se(e),B=d(()=>typeof e.counterValue=="function"?e.counterValue(u.value):typeof e.counterValue=="number"?e.counterValue:(u.value??"").toString().length),M=d(()=>{if(o.maxlength)return o.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),C=d(()=>["plain","underlined"].includes(e.variant));function R(t,a){!e.autofocus||!t||a[0].target?.focus?.()}const g=x(),k=x(),r=x(),E=d(()=>me.includes(e.type)||e.persistentPlaceholder||s.value||e.active);function f(){r.value!==document.activeElement&&r.value?.focus(),s.value||N()}function $(t){i("mousedown:control",t),t.target!==r.value&&(f(),t.preventDefault())}function O(t){f(),i("click:control",t)}function z(t){t.stopPropagation(),f(),_(()=>{u.value=null,ue(e["onClick:clear"],t)})}function U(t){const a=t.target;if(u.value=a.value,e.modelModifiers?.trim&&["text","search","password","tel","url"].includes(e.type)){const v=[a.selectionStart,a.selectionEnd];_(()=>{a.selectionStart=v[0],a.selectionEnd=v[1]})}}return w(()=>{const t=!!(l.counter||e.counter!==!1&&e.counter!=null),a=!!(t||l.details),[v,j]=te(o),{modelValue:Ve,...K}=b.filterProps(e),L=re(e);return n(b,V({ref:g,modelValue:u.value,"onUpdate:modelValue":c=>u.value=c,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-input--plain-underlined":C.value},e.class],style:e.style},v,K,{centerAffix:!C.value,focused:s.value}),{...l,default:c=>{let{id:W,isDisabled:P,isDirty:F,isReadonly:Y,isValid:q}=c;return n(ce,V({ref:k,onMousedown:$,onClick:O,"onClick:clear":z,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:e.role},L,{id:W.value,active:E.value||F.value,dirty:F.value||e.dirty,disabled:P.value,focused:s.value,error:q.value===!1}),{...l,default:G=>{let{props:{class:h,...H}}=G;const S=D(n("input",V({ref:r,value:u.value,onInput:U,autofocus:e.autofocus,readonly:Y.value,disabled:P.value,name:e.name,placeholder:e.placeholder,size:1,type:e.type,onFocus:f,onBlur:A},H,j),null),[[ne("intersect"),{handler:R},null,{once:!0}]]);return n(y,null,[e.prefix&&n("span",{class:"v-text-field__prefix"},[n("span",{class:"v-text-field__prefix__text"},[e.prefix])]),l.default?n("div",{class:h,"data-no-activator":""},[l.default(),S]):ae(S,{class:h}),e.suffix&&n("span",{class:"v-text-field__suffix"},[n("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:a?c=>n(y,null,[l.details?.(c),t&&n(y,null,[n("span",null,null),n(ve,{active:e.persistentCounter||s.value,value:B.value,max:M.value},l.counter)])]):void 0})}),le({},g,k,r)}});export{ke as V,ve as a,xe as m};
